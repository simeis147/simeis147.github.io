import{_ as c}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as l,o as p,c as i,e as u,w as a,b as n,d as s}from"./app-Bf9DzD39.js";const k={},r=n("h1",{id:"day04-项目实战-套餐管理",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#day04-项目实战-套餐管理"},[n("span",null,"Day04 项目实战（套餐管理）")])],-1),m=n("div",{class:"language-java line-numbers-mode","data-ext":"java","data-title":"java"},[n("pre",{class:"language-java"},[n("code",null,[n("span",{class:"token keyword"},"package"),s(),n("span",{class:"token namespace"},[s("com"),n("span",{class:"token punctuation"},"."),s("sky"),n("span",{class:"token punctuation"},"."),s("controller"),n("span",{class:"token punctuation"},"."),s("admin")]),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("com"),n("span",{class:"token punctuation"},"."),s("sky"),n("span",{class:"token punctuation"},"."),s("dto"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"SetmealDTO")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("com"),n("span",{class:"token punctuation"},"."),s("sky"),n("span",{class:"token punctuation"},"."),s("dto"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"SetmealPageQueryDTO")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("com"),n("span",{class:"token punctuation"},"."),s("sky"),n("span",{class:"token punctuation"},"."),s("result"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"PageResult")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("com"),n("span",{class:"token punctuation"},"."),s("sky"),n("span",{class:"token punctuation"},"."),s("result"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"Result")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("com"),n("span",{class:"token punctuation"},"."),s("sky"),n("span",{class:"token punctuation"},"."),s("service"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"SetmealService")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("com"),n("span",{class:"token punctuation"},"."),s("sky"),n("span",{class:"token punctuation"},"."),s("vo"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"SetmealVO")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("io"),n("span",{class:"token punctuation"},"."),s("swagger"),n("span",{class:"token punctuation"},"."),s("annotations"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"Api")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("io"),n("span",{class:"token punctuation"},"."),s("swagger"),n("span",{class:"token punctuation"},"."),s("annotations"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"ApiOperation")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("lombok"),n("span",{class:"token punctuation"},"."),s("extern"),n("span",{class:"token punctuation"},"."),s("slf4j"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"Slf4j")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("org"),n("span",{class:"token punctuation"},"."),s("springframework"),n("span",{class:"token punctuation"},"."),s("beans"),n("span",{class:"token punctuation"},"."),s("factory"),n("span",{class:"token punctuation"},"."),s("annotation"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"Autowired")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("org"),n("span",{class:"token punctuation"},"."),s("springframework"),n("span",{class:"token punctuation"},"."),s("web"),n("span",{class:"token punctuation"},"."),s("bind"),n("span",{class:"token punctuation"},"."),s("annotation"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token operator"},"*")]),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("java"),n("span",{class:"token punctuation"},"."),s("util"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"List")]),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token annotation punctuation"},"@RestController"),s(`
`),n("span",{class:"token annotation punctuation"},"@RequestMapping"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"/admin/setmeal"'),n("span",{class:"token punctuation"},")"),s(`
`),n("span",{class:"token annotation punctuation"},"@Slf4j"),s(`
`),n("span",{class:"token annotation punctuation"},"@Api"),n("span",{class:"token punctuation"},"("),s("tags "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},'"套餐相关接口"'),n("span",{class:"token punctuation"},")"),s(`
`),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"class"),s(),n("span",{class:"token class-name"},"SetmealController"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token annotation punctuation"},"@Autowired"),s(`
    `),n("span",{class:"token keyword"},"private"),s(),n("span",{class:"token class-name"},"SetmealService"),s(" setmealService"),n("span",{class:"token punctuation"},";"),s(`

    `),n("span",{class:"token annotation punctuation"},"@PostMapping"),s(`
    `),n("span",{class:"token annotation punctuation"},"@ApiOperation"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"新增套餐"'),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token class-name"},"Result"),s(),n("span",{class:"token function"},"save"),n("span",{class:"token punctuation"},"("),n("span",{class:"token annotation punctuation"},"@RequestBody"),s(),n("span",{class:"token class-name"},"SetmealDTO"),s(" setmealDTO"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"{"),s(`
        log`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"info"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"新增套餐：{}"'),n("span",{class:"token punctuation"},","),s("setmealDTO"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        setmealService`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"save"),n("span",{class:"token punctuation"},"("),s("setmealDTO"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token class-name"},"Result"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"success"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`

    `),n("span",{class:"token annotation punctuation"},"@GetMapping"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"/page"'),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token annotation punctuation"},"@ApiOperation"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"套餐分页查询"'),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token class-name"},"Result"),n("span",{class:"token generics"},[n("span",{class:"token punctuation"},"<"),n("span",{class:"token class-name"},"PageResult"),n("span",{class:"token punctuation"},">")]),s(),n("span",{class:"token function"},"page"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"SetmealPageQueryDTO"),s(" setmealPageQueryDTO"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"{"),s(`
        log`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"info"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"套餐分页查询:{}"'),n("span",{class:"token punctuation"},","),s("setmealPageQueryDTO"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token class-name"},"PageResult"),s(" pageResult "),n("span",{class:"token operator"},"="),s(" setmealService"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"pageQuery"),n("span",{class:"token punctuation"},"("),s("setmealPageQueryDTO"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token class-name"},"Result"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"success"),n("span",{class:"token punctuation"},"("),s("pageResult"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`

    `),n("span",{class:"token annotation punctuation"},"@DeleteMapping"),s(`
    `),n("span",{class:"token annotation punctuation"},"@ApiOperation"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"批量删除套餐"'),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token class-name"},"Result"),s(),n("span",{class:"token function"},"deleteSetmeal"),n("span",{class:"token punctuation"},"("),n("span",{class:"token annotation punctuation"},"@RequestParam"),s(),n("span",{class:"token class-name"},"List"),n("span",{class:"token generics"},[n("span",{class:"token punctuation"},"<"),n("span",{class:"token class-name"},"Long"),n("span",{class:"token punctuation"},">")]),s(" ids"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"{"),s(`
        log`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"info"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"批量删除套餐:{}"'),n("span",{class:"token punctuation"},","),s("ids"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        setmealService`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"deleteWithSetmealDish"),n("span",{class:"token punctuation"},"("),s("ids"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token class-name"},"Result"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"success"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`

    `),n("span",{class:"token annotation punctuation"},"@GetMapping"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"/{id}"'),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token annotation punctuation"},"@ApiOperation"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"根据ID查询套餐"'),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token class-name"},"Result"),n("span",{class:"token generics"},[n("span",{class:"token punctuation"},"<"),n("span",{class:"token class-name"},"SetmealVO"),n("span",{class:"token punctuation"},">")]),s(),n("span",{class:"token function"},"getById"),n("span",{class:"token punctuation"},"("),n("span",{class:"token annotation punctuation"},"@PathVariable"),s(),n("span",{class:"token class-name"},"Long"),s(" id"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"{"),s(`
        log`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"info"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"根据ID查询套餐:{}"'),n("span",{class:"token punctuation"},","),s("id"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token class-name"},"SetmealVO"),s(" setmealVO "),n("span",{class:"token operator"},"="),s(" setmealService"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getById"),n("span",{class:"token punctuation"},"("),s("id"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token class-name"},"Result"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"success"),n("span",{class:"token punctuation"},"("),s("setmealVO"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`


    `),n("span",{class:"token annotation punctuation"},"@PutMapping"),s(`
    `),n("span",{class:"token annotation punctuation"},"@ApiOperation"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"修改套餐"'),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token class-name"},"Result"),s(),n("span",{class:"token function"},"update"),n("span",{class:"token punctuation"},"("),n("span",{class:"token annotation punctuation"},"@RequestBody"),s(),n("span",{class:"token class-name"},"SetmealDTO"),s(" setmealDTO"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"{"),s(`
        log`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"info"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"修改套餐:{}"'),n("span",{class:"token punctuation"},","),s("setmealDTO"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        setmealService`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"updateWithDish"),n("span",{class:"token punctuation"},"("),s("setmealDTO"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token class-name"},"Result"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"success"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`

    `),n("span",{class:"token annotation punctuation"},"@PostMapping"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"/status/{status}"'),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token annotation punctuation"},"@ApiOperation"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"套餐起售、停售"'),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token class-name"},"Result"),s(),n("span",{class:"token function"},"stopOrStartSetmeal"),n("span",{class:"token punctuation"},"("),n("span",{class:"token annotation punctuation"},"@PathVariable"),s(),n("span",{class:"token class-name"},"Integer"),s(" status"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},"Long"),s(" id"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"{"),s(`
        log`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"info"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"套餐起售、停售:{},{}"'),n("span",{class:"token punctuation"},","),s("status"),n("span",{class:"token punctuation"},","),s("id"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        setmealService`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"stopOrStartSetmeal"),n("span",{class:"token punctuation"},"("),s("status"),n("span",{class:"token punctuation"},","),s("id"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token class-name"},"Result"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"success"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),d=n("div",{class:"language-java line-numbers-mode","data-ext":"java","data-title":"java"},[n("pre",{class:"language-java"},[n("code",null,[n("span",{class:"token keyword"},"package"),s(),n("span",{class:"token namespace"},[s("com"),n("span",{class:"token punctuation"},"."),s("sky"),n("span",{class:"token punctuation"},"."),s("service")]),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("com"),n("span",{class:"token punctuation"},"."),s("sky"),n("span",{class:"token punctuation"},"."),s("dto"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"SetmealDTO")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("com"),n("span",{class:"token punctuation"},"."),s("sky"),n("span",{class:"token punctuation"},"."),s("dto"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"SetmealPageQueryDTO")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("com"),n("span",{class:"token punctuation"},"."),s("sky"),n("span",{class:"token punctuation"},"."),s("result"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"PageResult")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("com"),n("span",{class:"token punctuation"},"."),s("sky"),n("span",{class:"token punctuation"},"."),s("vo"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"SetmealVO")]),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("java"),n("span",{class:"token punctuation"},"."),s("util"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"List")]),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"interface"),s(),n("span",{class:"token class-name"},"SetmealService"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token doc-comment comment"},[s(`/**
     * 新增套餐
     * `),n("span",{class:"token keyword"},"@param"),s(),n("span",{class:"token parameter"},"setmealDTO"),s(`
     */`)]),s(`
    `),n("span",{class:"token keyword"},"void"),s(),n("span",{class:"token function"},"save"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"SetmealDTO"),s(" setmealDTO"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

    `),n("span",{class:"token doc-comment comment"},[s(`/**
     * 套餐分页查询
     * `),n("span",{class:"token keyword"},"@param"),s(),n("span",{class:"token parameter"},"setmealPageQueryDTO"),s(`
     * `),n("span",{class:"token keyword"},"@return"),s(`
     */`)]),s(`
    `),n("span",{class:"token class-name"},"PageResult"),s(),n("span",{class:"token function"},"pageQuery"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"SetmealPageQueryDTO"),s(" setmealPageQueryDTO"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

    `),n("span",{class:"token doc-comment comment"},[s(`/**
     * 批量删除套餐
     * `),n("span",{class:"token keyword"},"@param"),s(),n("span",{class:"token parameter"},"ids"),s(`
     */`)]),s(`
    `),n("span",{class:"token keyword"},"void"),s(),n("span",{class:"token function"},"deleteWithSetmealDish"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"List"),n("span",{class:"token generics"},[n("span",{class:"token punctuation"},"<"),n("span",{class:"token class-name"},"Long"),n("span",{class:"token punctuation"},">")]),s(" ids"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

    `),n("span",{class:"token doc-comment comment"},[s(`/**
     * 根据ID查询套餐
     * `),n("span",{class:"token keyword"},"@param"),s(),n("span",{class:"token parameter"},"id"),s(`
     * `),n("span",{class:"token keyword"},"@return"),s(`
     */`)]),s(`
    `),n("span",{class:"token class-name"},"SetmealVO"),s(),n("span",{class:"token function"},"getById"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"Long"),s(" id"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

    `),n("span",{class:"token doc-comment comment"},[s(`/**
     * 修改套餐
     * `),n("span",{class:"token keyword"},"@param"),s(),n("span",{class:"token parameter"},"setmealDTO"),s(`
     */`)]),s(`
    `),n("span",{class:"token keyword"},"void"),s(),n("span",{class:"token function"},"updateWithDish"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"SetmealDTO"),s(" setmealDTO"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

    `),n("span",{class:"token doc-comment comment"},[s(`/**
     * 套餐起售、停售
     * `),n("span",{class:"token keyword"},"@param"),s(),n("span",{class:"token parameter"},"status"),s(`
     */`)]),s(`
    `),n("span",{class:"token keyword"},"void"),s(),n("span",{class:"token function"},"stopOrStartSetmeal"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"Integer"),s(" status"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},"Long"),s(" id"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),v=n("div",{class:"language-java line-numbers-mode","data-ext":"java","data-title":"java"},[n("pre",{class:"language-java"},[n("code",null,[n("span",{class:"token keyword"},"package"),s(),n("span",{class:"token namespace"},[s("com"),n("span",{class:"token punctuation"},"."),s("sky"),n("span",{class:"token punctuation"},"."),s("service"),n("span",{class:"token punctuation"},"."),s("impl")]),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("com"),n("span",{class:"token punctuation"},"."),s("github"),n("span",{class:"token punctuation"},"."),s("pagehelper"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"Page")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("com"),n("span",{class:"token punctuation"},"."),s("github"),n("span",{class:"token punctuation"},"."),s("pagehelper"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"PageHelper")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("com"),n("span",{class:"token punctuation"},"."),s("sky"),n("span",{class:"token punctuation"},"."),s("constant"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"MessageConstant")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("com"),n("span",{class:"token punctuation"},"."),s("sky"),n("span",{class:"token punctuation"},"."),s("constant"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"StatusConstant")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("com"),n("span",{class:"token punctuation"},"."),s("sky"),n("span",{class:"token punctuation"},"."),s("dto"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"DishPageQueryDTO")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("com"),n("span",{class:"token punctuation"},"."),s("sky"),n("span",{class:"token punctuation"},"."),s("dto"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"SetmealDTO")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("com"),n("span",{class:"token punctuation"},"."),s("sky"),n("span",{class:"token punctuation"},"."),s("dto"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"SetmealPageQueryDTO")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("com"),n("span",{class:"token punctuation"},"."),s("sky"),n("span",{class:"token punctuation"},"."),s("entity"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"Setmeal")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("com"),n("span",{class:"token punctuation"},"."),s("sky"),n("span",{class:"token punctuation"},"."),s("entity"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"SetmealDish")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("com"),n("span",{class:"token punctuation"},"."),s("sky"),n("span",{class:"token punctuation"},"."),s("exception"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"DeletionNotAllowedException")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("com"),n("span",{class:"token punctuation"},"."),s("sky"),n("span",{class:"token punctuation"},"."),s("exception"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"SetmealEnableFailedException")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("com"),n("span",{class:"token punctuation"},"."),s("sky"),n("span",{class:"token punctuation"},"."),s("mapper"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"SetmealDishMapper")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("com"),n("span",{class:"token punctuation"},"."),s("sky"),n("span",{class:"token punctuation"},"."),s("mapper"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"SetmealMapper")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("com"),n("span",{class:"token punctuation"},"."),s("sky"),n("span",{class:"token punctuation"},"."),s("result"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"PageResult")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("com"),n("span",{class:"token punctuation"},"."),s("sky"),n("span",{class:"token punctuation"},"."),s("service"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"SetmealService")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("com"),n("span",{class:"token punctuation"},"."),s("sky"),n("span",{class:"token punctuation"},"."),s("vo"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"SetmealVO")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("org"),n("span",{class:"token punctuation"},"."),s("springframework"),n("span",{class:"token punctuation"},"."),s("beans"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"BeanUtils")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("org"),n("span",{class:"token punctuation"},"."),s("springframework"),n("span",{class:"token punctuation"},"."),s("beans"),n("span",{class:"token punctuation"},"."),s("factory"),n("span",{class:"token punctuation"},"."),s("annotation"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"Autowired")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("org"),n("span",{class:"token punctuation"},"."),s("springframework"),n("span",{class:"token punctuation"},"."),s("stereotype"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"Service")]),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("java"),n("span",{class:"token punctuation"},"."),s("util"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"List")]),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token annotation punctuation"},"@Service"),s(`
`),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"class"),s(),n("span",{class:"token class-name"},"SetmealServiceImpl"),s(),n("span",{class:"token keyword"},"implements"),s(),n("span",{class:"token class-name"},"SetmealService"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token annotation punctuation"},"@Autowired"),s(`
    `),n("span",{class:"token keyword"},"private"),s(),n("span",{class:"token class-name"},"SetmealMapper"),s(" setmealMapper"),n("span",{class:"token punctuation"},";"),s(`

    `),n("span",{class:"token annotation punctuation"},"@Autowired"),s(`
    `),n("span",{class:"token keyword"},"private"),s(),n("span",{class:"token class-name"},"SetmealDishMapper"),s(" setmealDishMapper"),n("span",{class:"token punctuation"},";"),s(`

    `),n("span",{class:"token doc-comment comment"},[s(`/**
     * 新增套餐
     * `),n("span",{class:"token keyword"},"@param"),s(),n("span",{class:"token parameter"},"setmealDTO"),s(`
     */`)]),s(`
    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"void"),s(),n("span",{class:"token function"},"save"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"SetmealDTO"),s(" setmealDTO"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token class-name"},"Setmeal"),s(" setmeal "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"Setmeal"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token class-name"},"BeanUtils"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"copyProperties"),n("span",{class:"token punctuation"},"("),s("setmealDTO"),n("span",{class:"token punctuation"},","),s("setmeal"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

        setmealMapper`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"insertWithDish"),n("span",{class:"token punctuation"},"("),s("setmeal"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token class-name"},"Long"),s(" setmealId "),n("span",{class:"token operator"},"="),s(" setmeal"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getId"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token class-name"},"List"),n("span",{class:"token generics"},[n("span",{class:"token punctuation"},"<"),n("span",{class:"token class-name"},"SetmealDish"),n("span",{class:"token punctuation"},">")]),s(" setmealDishes "),n("span",{class:"token operator"},"="),s(" setmealDTO"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getSetmealDishes"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("setmealDishes "),n("span",{class:"token operator"},"!="),s(),n("span",{class:"token keyword"},"null"),s(),n("span",{class:"token operator"},"&&"),s(" setmealDishes"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"size"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},">"),s(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token keyword"},"for"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"SetmealDish"),s(" setmealDish "),n("span",{class:"token operator"},":"),s(" setmealDishes"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
                setmealDish`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"setSetmealId"),n("span",{class:"token punctuation"},"("),s("setmealId"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
            `),n("span",{class:"token punctuation"},"}"),s(`
            `),n("span",{class:"token comment"},"// 向套餐菜品表插入n条数据"),s(`
            setmealDishMapper`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"insertBatch"),n("span",{class:"token punctuation"},"("),s("setmealDishes"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(`


    `),n("span",{class:"token punctuation"},"}"),s(`

    `),n("span",{class:"token doc-comment comment"},[s(`/**
     * 套餐分页查询
     * `),n("span",{class:"token keyword"},"@param"),s(),n("span",{class:"token parameter"},"setmealPageQueryDTO"),s(`
     * `),n("span",{class:"token keyword"},"@return"),s(`
     */`)]),s(`
    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token class-name"},"PageResult"),s(),n("span",{class:"token function"},"pageQuery"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"SetmealPageQueryDTO"),s(" setmealPageQueryDTO"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token class-name"},"PageHelper"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"startPage"),n("span",{class:"token punctuation"},"("),s("setmealPageQueryDTO"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getPage"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(" setmealPageQueryDTO"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getPageSize"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token class-name"},"Page"),n("span",{class:"token generics"},[n("span",{class:"token punctuation"},"<"),n("span",{class:"token class-name"},"SetmealVO"),n("span",{class:"token punctuation"},">")]),s(" page "),n("span",{class:"token operator"},"="),s(" setmealMapper"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"pageQuery"),n("span",{class:"token punctuation"},"("),s("setmealPageQueryDTO"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"PageResult"),n("span",{class:"token punctuation"},"("),s("page"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getTotal"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s("page"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getResult"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`

    `),n("span",{class:"token doc-comment comment"},[s(`/**
     * 批量删除套餐
     * `),n("span",{class:"token keyword"},"@param"),s(),n("span",{class:"token parameter"},"ids"),s(`
     */`)]),s(`
    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"void"),s(),n("span",{class:"token function"},"deleteWithSetmealDish"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"List"),n("span",{class:"token generics"},[n("span",{class:"token punctuation"},"<"),n("span",{class:"token class-name"},"Long"),n("span",{class:"token punctuation"},">")]),s(" ids"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token class-name"},"Setmeal"),s(" setmeal "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"Setmeal"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token comment"},"// 是否存在起售中的套餐"),s(`
        `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("ids "),n("span",{class:"token operator"},"!="),s(),n("span",{class:"token keyword"},"null"),s(),n("span",{class:"token operator"},"&&"),s(" ids"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"size"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},">"),s(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token keyword"},"for"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"Long"),s(" id "),n("span",{class:"token operator"},":"),s(" ids"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
                setmeal `),n("span",{class:"token operator"},"="),s(" setmealMapper"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getById"),n("span",{class:"token punctuation"},"("),s("id"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
                `),n("span",{class:"token keyword"},"if"),n("span",{class:"token punctuation"},"("),s("setmeal"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getStatus"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=="),s(),n("span",{class:"token class-name"},"StatusConstant"),n("span",{class:"token punctuation"},"."),n("span",{class:"token constant"},"ENABLE"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"{"),s(`
                    `),n("span",{class:"token keyword"},"throw"),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"DeletionNotAllowedException"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"MessageConstant"),n("span",{class:"token punctuation"},"."),n("span",{class:"token constant"},"SETMEAL_ON_SALE"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
                `),n("span",{class:"token punctuation"},"}"),s(`
            `),n("span",{class:"token punctuation"},"}"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(`

        `),n("span",{class:"token comment"},"// 是否被菜品关联了"),s(`
`),n("span",{class:"token comment"},`/*        List<Long> DishIds = setmealDishMapper.getDishIdsBySetmealIds(ids);
        if ( DishIds != null && DishIds.size() > 0 ){
            //当前套餐里面含有菜品， 不能删除
            throw new DeletionNotAllowedException(MessageConstant.SETMEAL_ENABLE_FAILED);
        }*/`),s(`

        `),n("span",{class:"token comment"},"//删除菜品表中的菜品数据"),s(`
        `),n("span",{class:"token keyword"},"for"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"Long"),s(" id "),n("span",{class:"token operator"},":"),s(" ids"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
            setmealMapper`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"deleteById"),n("span",{class:"token punctuation"},"("),s("id"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
            setmealDishMapper`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"deleteBySetmealId"),n("span",{class:"token punctuation"},"("),s("id"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(`

    `),n("span",{class:"token punctuation"},"}"),s(`

    `),n("span",{class:"token doc-comment comment"},[s(`/**
     * 根据ID查询套餐
     * `),n("span",{class:"token keyword"},"@param"),s(),n("span",{class:"token parameter"},"id"),s(`
     * `),n("span",{class:"token keyword"},"@return"),s(`
     */`)]),s(`
    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token class-name"},"SetmealVO"),s(),n("span",{class:"token function"},"getById"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"Long"),s(" id"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token comment"},"// 根据ID查询套餐数据"),s(`
        `),n("span",{class:"token class-name"},"Setmeal"),s(" setmeal "),n("span",{class:"token operator"},"="),s(" setmealMapper"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getById"),n("span",{class:"token punctuation"},"("),s("id"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token comment"},"// 根据ID查询套餐菜品数据"),s(`
        `),n("span",{class:"token class-name"},"List"),n("span",{class:"token generics"},[n("span",{class:"token punctuation"},"<"),n("span",{class:"token class-name"},"SetmealDish"),n("span",{class:"token punctuation"},">")]),s(" setmealDishes "),n("span",{class:"token operator"},"="),s(" setmealDishMapper"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getBySetmealId"),n("span",{class:"token punctuation"},"("),s("id"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token comment"},"// 将查询到的数据封装到VO"),s(`
        `),n("span",{class:"token class-name"},"SetmealVO"),s(" setmealVO "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"SetmealVO"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token class-name"},"BeanUtils"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"copyProperties"),n("span",{class:"token punctuation"},"("),s("setmeal"),n("span",{class:"token punctuation"},","),s(" setmealVO"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        setmealVO`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"setSetmealDishes"),n("span",{class:"token punctuation"},"("),s("setmealDishes"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token keyword"},"return"),s(" setmealVO"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`

    `),n("span",{class:"token doc-comment comment"},[s(`/**
     * 修改套餐
     * `),n("span",{class:"token keyword"},"@param"),s(),n("span",{class:"token parameter"},"setmealDTO"),s(`
     */`)]),s(`
    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"void"),s(),n("span",{class:"token function"},"updateWithDish"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"SetmealDTO"),s(" setmealDTO"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token class-name"},"Setmeal"),s(" setmeal "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"Setmeal"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token class-name"},"BeanUtils"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"copyProperties"),n("span",{class:"token punctuation"},"("),s("setmealDTO"),n("span",{class:"token punctuation"},","),s("setmeal"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token comment"},"// 修改套餐的基本信息"),s(`
        setmealMapper`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"update"),n("span",{class:"token punctuation"},"("),s("setmeal"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token comment"},"// 删除套餐菜品数据"),s(`
        setmealDishMapper`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"deleteBySetmealId"),n("span",{class:"token punctuation"},"("),s("setmeal"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getId"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token comment"},"// 重新插入套餐菜品数据"),s(`
        `),n("span",{class:"token class-name"},"List"),n("span",{class:"token generics"},[n("span",{class:"token punctuation"},"<"),n("span",{class:"token class-name"},"SetmealDish"),n("span",{class:"token punctuation"},">")]),s(" setmealDishes "),n("span",{class:"token operator"},"="),s(" setmealDTO"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getSetmealDishes"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token keyword"},"if"),n("span",{class:"token punctuation"},"("),s("setmealDishes "),n("span",{class:"token operator"},"!="),s(),n("span",{class:"token keyword"},"null"),s(),n("span",{class:"token operator"},"&&"),s(" setmealDishes"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"size"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},">"),s(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token keyword"},"for"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"SetmealDish"),s(" setmealDish "),n("span",{class:"token operator"},":"),s(" setmealDishes"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
                setmealDish`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"setSetmealId"),n("span",{class:"token punctuation"},"("),s("setmealDTO"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getId"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
            `),n("span",{class:"token punctuation"},"}"),s(`

            `),n("span",{class:"token comment"},"// 向套餐菜品表插入数据"),s(`
            setmealDishMapper`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"insertBatch"),n("span",{class:"token punctuation"},"("),s("setmealDishes"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token punctuation"},"}"),s(`



    `),n("span",{class:"token punctuation"},"}"),s(`

    `),n("span",{class:"token doc-comment comment"},[s(`/**
     * 套餐起售、停售
     * `),n("span",{class:"token keyword"},"@param"),s(),n("span",{class:"token parameter"},"status"),s(`
     */`)]),s(`
    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"void"),s(),n("span",{class:"token function"},"stopOrStartSetmeal"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"Integer"),s(" status"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},"Long"),s(" id"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`

        `),n("span",{class:"token class-name"},"Setmeal"),s(" setmealMapperById "),n("span",{class:"token operator"},"="),s(" setmealMapper"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getById"),n("span",{class:"token punctuation"},"("),s("id"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token comment"},"// 套餐内包含未启售菜品，无法启售"),s(`
        `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s(" setmealMapperById"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getStatus"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=="),s(),n("span",{class:"token class-name"},"StatusConstant"),n("span",{class:"token punctuation"},"."),n("span",{class:"token constant"},"DISABLE"),s(),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token class-name"},"List"),n("span",{class:"token generics"},[n("span",{class:"token punctuation"},"<"),n("span",{class:"token class-name"},"Integer"),n("span",{class:"token punctuation"},">")]),s(" getStatus "),n("span",{class:"token operator"},"="),s(" setmealMapper"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"selectDishStatus"),n("span",{class:"token punctuation"},"("),s("id"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
            `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("getStatus "),n("span",{class:"token operator"},"!="),s(),n("span",{class:"token keyword"},"null"),s(),n("span",{class:"token operator"},"&&"),s(" getStatus"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"size"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},">"),s(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"{"),s(`
                `),n("span",{class:"token keyword"},"for"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"Integer"),s(" s "),n("span",{class:"token operator"},":"),s(" getStatus"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
                    `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("s "),n("span",{class:"token operator"},"=="),s(),n("span",{class:"token class-name"},"StatusConstant"),n("span",{class:"token punctuation"},"."),n("span",{class:"token constant"},"DISABLE"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"{"),s(`
                        `),n("span",{class:"token keyword"},"throw"),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"SetmealEnableFailedException"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"MessageConstant"),n("span",{class:"token punctuation"},"."),n("span",{class:"token constant"},"SETMEAL_ENABLE_FAILED"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
                    `),n("span",{class:"token punctuation"},"}"),s(`
                `),n("span",{class:"token punctuation"},"}"),s(`
            `),n("span",{class:"token punctuation"},"}"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(`

        `),n("span",{class:"token class-name"},"Setmeal"),s(" setmeal "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token class-name"},"Setmeal"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"builder"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
                `),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"status"),n("span",{class:"token punctuation"},"("),s("status"),n("span",{class:"token punctuation"},")"),s(`
                `),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"id"),n("span",{class:"token punctuation"},"("),s("id"),n("span",{class:"token punctuation"},")"),s(`
                `),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"build"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

        setmealMapper`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"update"),n("span",{class:"token punctuation"},"("),s("setmeal"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),b=n("p",null,"SetmealMapper.java",-1),y=n("div",{class:"language-java line-numbers-mode","data-ext":"java","data-title":"java"},[n("pre",{class:"language-java"},[n("code",null,[n("span",{class:"token keyword"},"package"),s(),n("span",{class:"token namespace"},[s("com"),n("span",{class:"token punctuation"},"."),s("sky"),n("span",{class:"token punctuation"},"."),s("mapper")]),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("com"),n("span",{class:"token punctuation"},"."),s("github"),n("span",{class:"token punctuation"},"."),s("pagehelper"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"Page")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("com"),n("span",{class:"token punctuation"},"."),s("sky"),n("span",{class:"token punctuation"},"."),s("annotation"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"AutoFill")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("com"),n("span",{class:"token punctuation"},"."),s("sky"),n("span",{class:"token punctuation"},"."),s("dto"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"SetmealPageQueryDTO")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("com"),n("span",{class:"token punctuation"},"."),s("sky"),n("span",{class:"token punctuation"},"."),s("entity"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"Setmeal")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("com"),n("span",{class:"token punctuation"},"."),s("sky"),n("span",{class:"token punctuation"},"."),s("enumeration"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"OperationType")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("com"),n("span",{class:"token punctuation"},"."),s("sky"),n("span",{class:"token punctuation"},"."),s("vo"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"SetmealVO")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("org"),n("span",{class:"token punctuation"},"."),s("apache"),n("span",{class:"token punctuation"},"."),s("ibatis"),n("span",{class:"token punctuation"},"."),s("annotations"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"Delete")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("org"),n("span",{class:"token punctuation"},"."),s("apache"),n("span",{class:"token punctuation"},"."),s("ibatis"),n("span",{class:"token punctuation"},"."),s("annotations"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"Mapper")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("org"),n("span",{class:"token punctuation"},"."),s("apache"),n("span",{class:"token punctuation"},"."),s("ibatis"),n("span",{class:"token punctuation"},"."),s("annotations"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"Select")]),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("java"),n("span",{class:"token punctuation"},"."),s("util"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"List")]),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token annotation punctuation"},"@Mapper"),s(`
`),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"interface"),s(),n("span",{class:"token class-name"},"SetmealMapper"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token doc-comment comment"},[s(`/**
     * 根据分类id查询套餐的数量
     * `),n("span",{class:"token keyword"},"@param"),s(),n("span",{class:"token parameter"},"CategoryId"),s(`
     * `),n("span",{class:"token keyword"},"@return"),s(`
     */`)]),s(`
    `),n("span",{class:"token annotation punctuation"},"@Select"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"select count(id) from setmeal where category_id = #{categoryId}"'),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token class-name"},"Integer"),s(),n("span",{class:"token function"},"countByCategoryId"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"Long"),s(),n("span",{class:"token class-name"},"CategoryId"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

    `),n("span",{class:"token doc-comment comment"},[s(`/**
     * 插入套餐
     * `),n("span",{class:"token keyword"},"@param"),s(),n("span",{class:"token parameter"},"setmeal"),s(`
     */`)]),s(`
    `),n("span",{class:"token annotation punctuation"},"@AutoFill"),n("span",{class:"token punctuation"},"("),s("value "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token class-name"},"OperationType"),n("span",{class:"token punctuation"},"."),n("span",{class:"token constant"},"INSERT"),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token keyword"},"void"),s(),n("span",{class:"token function"},"insertWithDish"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"Setmeal"),s(" setmeal"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

    `),n("span",{class:"token doc-comment comment"},[s(`/**
     * 套餐分页查询
     * `),n("span",{class:"token keyword"},"@param"),s(),n("span",{class:"token parameter"},"setmealPageQueryDTO"),s(`
     * `),n("span",{class:"token keyword"},"@return"),s(`
     */`)]),s(`
    `),n("span",{class:"token class-name"},"Page"),n("span",{class:"token generics"},[n("span",{class:"token punctuation"},"<"),n("span",{class:"token class-name"},"SetmealVO"),n("span",{class:"token punctuation"},">")]),s(),n("span",{class:"token function"},"pageQuery"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"SetmealPageQueryDTO"),s(" setmealPageQueryDTO"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

    `),n("span",{class:"token doc-comment comment"},[s(`/**
     * 根据id删除套餐
     * `),n("span",{class:"token keyword"},"@param"),s(),n("span",{class:"token parameter"},"id"),s(`
     */`)]),s(`
    `),n("span",{class:"token annotation punctuation"},"@Delete"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"delete from setmeal where id = #{id}"'),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token keyword"},"void"),s(),n("span",{class:"token function"},"deleteById"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"Long"),s(" id"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

    `),n("span",{class:"token doc-comment comment"},[s(`/**
     * 根据id查询套餐
     * `),n("span",{class:"token keyword"},"@param"),s(),n("span",{class:"token parameter"},"id"),s(`
     * `),n("span",{class:"token keyword"},"@return"),s(`
     */`)]),s(`
    `),n("span",{class:"token annotation punctuation"},"@Select"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"select * from setmeal where id = #{id}"'),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token class-name"},"Setmeal"),s(),n("span",{class:"token function"},"getById"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"Long"),s(" id"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

    `),n("span",{class:"token doc-comment comment"},[s(`/**
     * 更新套餐
     * `),n("span",{class:"token keyword"},"@param"),s(),n("span",{class:"token parameter"},"setmeal"),s(`
     */`)]),s(`
    `),n("span",{class:"token annotation punctuation"},"@AutoFill"),n("span",{class:"token punctuation"},"("),s("value "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token class-name"},"OperationType"),n("span",{class:"token punctuation"},"."),n("span",{class:"token constant"},"UPDATE"),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token keyword"},"void"),s(),n("span",{class:"token function"},"update"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"Setmeal"),s(" setmeal"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

    `),n("span",{class:"token class-name"},"List"),n("span",{class:"token generics"},[n("span",{class:"token punctuation"},"<"),n("span",{class:"token class-name"},"Integer"),n("span",{class:"token punctuation"},">")]),s(),n("span",{class:"token function"},"selectDishStatus"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"Long"),s(" id"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),g=n("p",null,"SetmealMapper.xml",-1),w=n("div",{class:"language-java line-numbers-mode","data-ext":"java","data-title":"java"},[n("pre",{class:"language-java"},[n("code",null,[n("span",{class:"token operator"},"<"),n("span",{class:"token operator"},"?"),s("xml version"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"1.0"'),s(" encoding"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"UTF-8"'),s(),n("span",{class:"token operator"},"?"),n("span",{class:"token operator"},">"),s(`
`),n("span",{class:"token operator"},"<"),n("span",{class:"token operator"},"!"),n("span",{class:"token constant"},"DOCTYPE"),s(" mapper "),n("span",{class:"token constant"},"PUBLIC"),s(),n("span",{class:"token string"},'"-//mybatis.org//DTD Mapper 3.0//EN"'),s(`
        `),n("span",{class:"token string"},'"http://mybatis.org/dtd/mybatis-3-mapper.dtd"'),s(),n("span",{class:"token operator"},">"),s(`
`),n("span",{class:"token operator"},"<"),s("mapper namespace"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"com.sky.mapper.SetmealMapper"'),n("span",{class:"token operator"},">"),s(`

    `),n("span",{class:"token operator"},"<"),s("insert id"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"insertWithDish"'),s(" useGeneratedKeys"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"true"'),s(" keyProperty"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"id"'),n("span",{class:"token operator"},">"),s(`
        insert into `),n("span",{class:"token function"},"setmeal"),n("span",{class:"token punctuation"},"("),s("category_id"),n("span",{class:"token punctuation"},","),s(" name"),n("span",{class:"token punctuation"},","),s(" price"),n("span",{class:"token punctuation"},","),s(" description"),n("span",{class:"token punctuation"},","),s(" image"),n("span",{class:"token punctuation"},","),s(" create_time"),n("span",{class:"token punctuation"},","),s(" update_time"),n("span",{class:"token punctuation"},","),s(" create_user"),n("span",{class:"token punctuation"},","),s(" update_user"),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token constant"},"VALUES"),s(`
        `),n("span",{class:"token punctuation"},"("),s("#"),n("span",{class:"token punctuation"},"{"),s("categoryId"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(" #"),n("span",{class:"token punctuation"},"{"),s("name"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(" #"),n("span",{class:"token punctuation"},"{"),s("price"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(" #"),n("span",{class:"token punctuation"},"{"),s("description"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s("#"),n("span",{class:"token punctuation"},"{"),s("image"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(" #"),n("span",{class:"token punctuation"},"{"),s("createTime"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(" #"),n("span",{class:"token punctuation"},"{"),s("updateTime"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(" #"),n("span",{class:"token punctuation"},"{"),s("createUser"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(" #"),n("span",{class:"token punctuation"},"{"),s("updateUser"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token operator"},"<"),n("span",{class:"token operator"},"/"),s("insert"),n("span",{class:"token operator"},">"),s(`

    `),n("span",{class:"token operator"},"<"),s("select id"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"pageQuery"'),s(" resultType"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"com.sky.vo.SetmealVO"'),n("span",{class:"token operator"},">"),s(`
        select s`),n("span",{class:"token punctuation"},"."),s("*"),n("span",{class:"token punctuation"},","),s(" c"),n("span",{class:"token punctuation"},"."),s(`name as categoryName
        from setmeal s
            left join category c on s`),n("span",{class:"token punctuation"},"."),s("category_id "),n("span",{class:"token operator"},"="),s(" c"),n("span",{class:"token punctuation"},"."),s(`id
        `),n("span",{class:"token generics"},[n("span",{class:"token punctuation"},"<"),s("where"),n("span",{class:"token punctuation"},">")]),s(`
            `),n("span",{class:"token operator"},"<"),n("span",{class:"token keyword"},"if"),s(" test"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"name != null"'),n("span",{class:"token operator"},">"),s(`
                and s`),n("span",{class:"token punctuation"},"."),s("name like "),n("span",{class:"token function"},"concat"),n("span",{class:"token punctuation"},"("),n("span",{class:"token char"},"'%'"),n("span",{class:"token punctuation"},","),s("#"),n("span",{class:"token punctuation"},"{"),s("name"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),n("span",{class:"token char"},"'%'"),n("span",{class:"token punctuation"},")"),s(`
            `),n("span",{class:"token operator"},"<"),n("span",{class:"token operator"},"/"),n("span",{class:"token keyword"},"if"),n("span",{class:"token operator"},">"),s(`
            `),n("span",{class:"token operator"},"<"),n("span",{class:"token keyword"},"if"),s(" test"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"categoryId != null"'),n("span",{class:"token operator"},">"),s(`
                and s`),n("span",{class:"token punctuation"},"."),s("category_id "),n("span",{class:"token operator"},"="),s(" #"),n("span",{class:"token punctuation"},"{"),s("categoryId"),n("span",{class:"token punctuation"},"}"),s(`
            `),n("span",{class:"token operator"},"<"),n("span",{class:"token operator"},"/"),n("span",{class:"token keyword"},"if"),n("span",{class:"token operator"},">"),s(`
            `),n("span",{class:"token operator"},"<"),n("span",{class:"token keyword"},"if"),s(" test"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"status != null"'),n("span",{class:"token operator"},">"),s(`
                and s`),n("span",{class:"token punctuation"},"."),s("status "),n("span",{class:"token operator"},"="),s(" #"),n("span",{class:"token punctuation"},"{"),s("status"),n("span",{class:"token punctuation"},"}"),s(`
            `),n("span",{class:"token operator"},"<"),n("span",{class:"token operator"},"/"),n("span",{class:"token keyword"},"if"),n("span",{class:"token operator"},">"),s(`
        `),n("span",{class:"token operator"},"<"),n("span",{class:"token operator"},"/"),s("where"),n("span",{class:"token operator"},">"),s(`
        order by s`),n("span",{class:"token punctuation"},"."),s(`create_time desc
    `),n("span",{class:"token operator"},"<"),n("span",{class:"token operator"},"/"),s("select"),n("span",{class:"token operator"},">"),s(`


    `),n("span",{class:"token operator"},"<"),s("update id"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"update"'),n("span",{class:"token operator"},">"),s(`
        update setmeal
        `),n("span",{class:"token generics"},[n("span",{class:"token punctuation"},"<"),s("set"),n("span",{class:"token punctuation"},">")]),s(`
            `),n("span",{class:"token operator"},"<"),n("span",{class:"token keyword"},"if"),s(" test"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"categoryId != null"'),n("span",{class:"token operator"},">"),s("category_id "),n("span",{class:"token operator"},"="),s(" #"),n("span",{class:"token punctuation"},"{"),s("categoryId"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),n("span",{class:"token operator"},"<"),n("span",{class:"token operator"},"/"),n("span",{class:"token keyword"},"if"),n("span",{class:"token operator"},">"),s(`
            `),n("span",{class:"token operator"},"<"),n("span",{class:"token keyword"},"if"),s(" test"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"name != null"'),n("span",{class:"token operator"},">"),s("name "),n("span",{class:"token operator"},"="),s(" #"),n("span",{class:"token punctuation"},"{"),s("name"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),n("span",{class:"token operator"},"<"),n("span",{class:"token operator"},"/"),n("span",{class:"token keyword"},"if"),n("span",{class:"token operator"},">"),s(`
            `),n("span",{class:"token operator"},"<"),n("span",{class:"token keyword"},"if"),s(" test"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"price != null"'),n("span",{class:"token operator"},">"),s("price "),n("span",{class:"token operator"},"="),s(" #"),n("span",{class:"token punctuation"},"{"),s("price"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),n("span",{class:"token operator"},"<"),n("span",{class:"token operator"},"/"),n("span",{class:"token keyword"},"if"),n("span",{class:"token operator"},">"),s(`
            `),n("span",{class:"token operator"},"<"),n("span",{class:"token keyword"},"if"),s(" test"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"status != null"'),n("span",{class:"token operator"},">"),s("status "),n("span",{class:"token operator"},"="),s(" #"),n("span",{class:"token punctuation"},"{"),s("status"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),n("span",{class:"token operator"},"<"),n("span",{class:"token operator"},"/"),n("span",{class:"token keyword"},"if"),n("span",{class:"token operator"},">"),s(`
            `),n("span",{class:"token operator"},"<"),n("span",{class:"token keyword"},"if"),s(" test"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"description != null"'),n("span",{class:"token operator"},">"),s("description "),n("span",{class:"token operator"},"="),s(" #"),n("span",{class:"token punctuation"},"{"),s("description"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),n("span",{class:"token operator"},"<"),n("span",{class:"token operator"},"/"),n("span",{class:"token keyword"},"if"),n("span",{class:"token operator"},">"),s(`
            `),n("span",{class:"token operator"},"<"),n("span",{class:"token keyword"},"if"),s(" test"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"image != null"'),n("span",{class:"token operator"},">"),s("image "),n("span",{class:"token operator"},"="),s(" #"),n("span",{class:"token punctuation"},"{"),s("image"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),n("span",{class:"token operator"},"<"),n("span",{class:"token operator"},"/"),n("span",{class:"token keyword"},"if"),n("span",{class:"token operator"},">"),s(`
            `),n("span",{class:"token operator"},"<"),n("span",{class:"token keyword"},"if"),s(" test"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"updateTime != null"'),n("span",{class:"token operator"},">"),s("update_time "),n("span",{class:"token operator"},"="),s(" #"),n("span",{class:"token punctuation"},"{"),s("updateTime"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),n("span",{class:"token operator"},"<"),n("span",{class:"token operator"},"/"),n("span",{class:"token keyword"},"if"),n("span",{class:"token operator"},">"),s(`
            `),n("span",{class:"token operator"},"<"),n("span",{class:"token keyword"},"if"),s(" test"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"updateUser != null"'),n("span",{class:"token operator"},">"),s("update_user "),n("span",{class:"token operator"},"="),s(" #"),n("span",{class:"token punctuation"},"{"),s("updateUser"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),n("span",{class:"token operator"},"<"),n("span",{class:"token operator"},"/"),n("span",{class:"token keyword"},"if"),n("span",{class:"token operator"},">"),s(`
        `),n("span",{class:"token operator"},"<"),n("span",{class:"token operator"},"/"),s("set"),n("span",{class:"token operator"},">"),s(`
        where id `),n("span",{class:"token operator"},"="),s(" #"),n("span",{class:"token punctuation"},"{"),s("id"),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token operator"},"<"),n("span",{class:"token operator"},"/"),s("update"),n("span",{class:"token operator"},">"),s(`


    `),n("span",{class:"token operator"},"<"),s("select id"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"selectDishStatus"'),s(" resultType"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"java.lang.Integer"'),n("span",{class:"token operator"},">"),s(`
        `),n("span",{class:"token constant"},"SELECT"),s(" d"),n("span",{class:"token punctuation"},"."),s(`status
        `),n("span",{class:"token constant"},"FROM"),s(` setmeal s
                 join setmeal_dish sd on s`),n("span",{class:"token punctuation"},"."),s("id "),n("span",{class:"token operator"},"="),s(" sd"),n("span",{class:"token punctuation"},"."),s(`setmeal_id
                 join dish d on sd`),n("span",{class:"token punctuation"},"."),s("dish_id "),n("span",{class:"token operator"},"="),s(" d"),n("span",{class:"token punctuation"},"."),s(`id
        where s`),n("span",{class:"token punctuation"},"."),s("id "),n("span",{class:"token operator"},"="),s(" #"),n("span",{class:"token punctuation"},"{"),s("id"),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token operator"},"<"),n("span",{class:"token operator"},"/"),s("select"),n("span",{class:"token operator"},">"),s(`
`),n("span",{class:"token operator"},"<"),n("span",{class:"token operator"},"/"),s("mapper"),n("span",{class:"token operator"},">"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),h=n("p",null,"SetmealDishMapper.java",-1),f=n("div",{class:"language-java line-numbers-mode","data-ext":"java","data-title":"java"},[n("pre",{class:"language-java"},[n("code",null,[n("span",{class:"token keyword"},"package"),s(),n("span",{class:"token namespace"},[s("com"),n("span",{class:"token punctuation"},"."),s("sky"),n("span",{class:"token punctuation"},"."),s("mapper")]),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("com"),n("span",{class:"token punctuation"},"."),s("sky"),n("span",{class:"token punctuation"},"."),s("annotation"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"AutoFill")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("com"),n("span",{class:"token punctuation"},"."),s("sky"),n("span",{class:"token punctuation"},"."),s("entity"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"SetmealDish")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("com"),n("span",{class:"token punctuation"},"."),s("sky"),n("span",{class:"token punctuation"},"."),s("enumeration"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"OperationType")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("org"),n("span",{class:"token punctuation"},"."),s("apache"),n("span",{class:"token punctuation"},"."),s("ibatis"),n("span",{class:"token punctuation"},"."),s("annotations"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"Delete")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("org"),n("span",{class:"token punctuation"},"."),s("apache"),n("span",{class:"token punctuation"},"."),s("ibatis"),n("span",{class:"token punctuation"},"."),s("annotations"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"Mapper")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("org"),n("span",{class:"token punctuation"},"."),s("apache"),n("span",{class:"token punctuation"},"."),s("ibatis"),n("span",{class:"token punctuation"},"."),s("annotations"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"Select")]),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("java"),n("span",{class:"token punctuation"},"."),s("util"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"List")]),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token annotation punctuation"},"@Mapper"),s(`
`),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"interface"),s(),n("span",{class:"token class-name"},"SetmealDishMapper"),s(),n("span",{class:"token punctuation"},"{"),s(`

    `),n("span",{class:"token doc-comment comment"},[s(`/**
     * 根据菜品id查询对应的套餐id
     * `),n("span",{class:"token keyword"},"@param"),s(),n("span",{class:"token parameter"},"dishIds"),s(`
     * `),n("span",{class:"token keyword"},"@return"),s(`
     */`)]),s(`
    `),n("span",{class:"token class-name"},"List"),n("span",{class:"token generics"},[n("span",{class:"token punctuation"},"<"),n("span",{class:"token class-name"},"Long"),n("span",{class:"token punctuation"},">")]),s(),n("span",{class:"token function"},"getSetmealIdsByDishIds"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"List"),n("span",{class:"token generics"},[n("span",{class:"token punctuation"},"<"),n("span",{class:"token class-name"},"Long"),n("span",{class:"token punctuation"},">")]),s(" dishIds"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

    `),n("span",{class:"token doc-comment comment"},[s(`/**
     * 插入套餐菜品表
     * `),n("span",{class:"token keyword"},"@param"),s(),n("span",{class:"token parameter"},"setmealDishes"),s(`
     */`)]),s(`
    `),n("span",{class:"token keyword"},"void"),s(),n("span",{class:"token function"},"insertBatch"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"List"),n("span",{class:"token generics"},[n("span",{class:"token punctuation"},"<"),n("span",{class:"token class-name"},"SetmealDish"),n("span",{class:"token punctuation"},">")]),s(" setmealDishes"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

    `),n("span",{class:"token doc-comment comment"},[s(`/**
     * 通过套餐查询是否关联菜品
     * `),n("span",{class:"token keyword"},"@param"),s(),n("span",{class:"token parameter"},"setmealIds"),s(`
     * `),n("span",{class:"token keyword"},"@return"),s(`
     */`)]),s(`
    `),n("span",{class:"token class-name"},"List"),n("span",{class:"token generics"},[n("span",{class:"token punctuation"},"<"),n("span",{class:"token class-name"},"Long"),n("span",{class:"token punctuation"},">")]),s(),n("span",{class:"token function"},"getDishIdsBySetmealIds"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"List"),n("span",{class:"token generics"},[n("span",{class:"token punctuation"},"<"),n("span",{class:"token class-name"},"Long"),n("span",{class:"token punctuation"},">")]),s(" setmealIds"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

    `),n("span",{class:"token doc-comment comment"},[s(`/**
     * 通过套餐id删除套餐菜品
     * `),n("span",{class:"token keyword"},"@param"),s(),n("span",{class:"token parameter"},"setmelId"),s(`
     */`)]),s(`
    `),n("span",{class:"token annotation punctuation"},"@Delete"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"delete from setmeal_dish where setmeal_id = #{setmelId}"'),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token keyword"},"void"),s(),n("span",{class:"token function"},"deleteBySetmealId"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"Long"),s(" setmelId"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

    `),n("span",{class:"token annotation punctuation"},"@Select"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"select * from setmeal_dish where setmeal_id = #{stmealId}"'),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token annotation punctuation"},"@AutoFill"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"OperationType"),n("span",{class:"token punctuation"},"."),n("span",{class:"token constant"},"UPDATE"),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token class-name"},"List"),n("span",{class:"token generics"},[n("span",{class:"token punctuation"},"<"),n("span",{class:"token class-name"},"SetmealDish"),n("span",{class:"token punctuation"},">")]),s(),n("span",{class:"token function"},"getBySetmealId"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"Long"),s(" id"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),S=n("p",null,"SetmealDishMapper.xml",-1),D=n("div",{class:"language-java line-numbers-mode","data-ext":"java","data-title":"java"},[n("pre",{class:"language-java"},[n("code",null,[n("span",{class:"token operator"},"<"),n("span",{class:"token operator"},"?"),s("xml version"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"1.0"'),s(" encoding"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"UTF-8"'),s(),n("span",{class:"token operator"},"?"),n("span",{class:"token operator"},">"),s(`
`),n("span",{class:"token operator"},"<"),n("span",{class:"token operator"},"!"),n("span",{class:"token constant"},"DOCTYPE"),s(" mapper "),n("span",{class:"token constant"},"PUBLIC"),s(),n("span",{class:"token string"},'"-//mybatis.org//DTD Mapper 3.0//EN"'),s(`
        `),n("span",{class:"token string"},'"http://mybatis.org/dtd/mybatis-3-mapper.dtd"'),s(),n("span",{class:"token operator"},">"),s(`
`),n("span",{class:"token operator"},"<"),s("mapper namespace"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"com.sky.mapper.SetmealDishMapper"'),n("span",{class:"token operator"},">"),s(`


    `),n("span",{class:"token operator"},"<"),s("select id"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"getSetmealIdsByDishIds"'),s(" resultType"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"java.lang.Long"'),n("span",{class:"token operator"},">"),s(`
        select setmeal_id from setmeal_dish
        where dish_id in
        `),n("span",{class:"token operator"},"<"),s("foreach collection"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"dishIds"'),s(" item"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"dishId"'),s(" separator"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'","'),s(),n("span",{class:"token keyword"},"open"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"("'),s(" close"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'")"'),n("span",{class:"token operator"},">"),s(`
            #`),n("span",{class:"token punctuation"},"{"),s("dishId"),n("span",{class:"token punctuation"},"}"),s(`
        `),n("span",{class:"token operator"},"<"),n("span",{class:"token operator"},"/"),s("foreach"),n("span",{class:"token operator"},">"),s(`
    `),n("span",{class:"token operator"},"<"),n("span",{class:"token operator"},"/"),s("select"),n("span",{class:"token operator"},">"),s(`

    `),n("span",{class:"token operator"},"<"),s("insert id"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"insertBatch"'),n("span",{class:"token operator"},">"),s(`
        insert into setmeal_dish `),n("span",{class:"token punctuation"},"("),s("setmeal_id"),n("span",{class:"token punctuation"},","),s(" dish_id"),n("span",{class:"token punctuation"},","),s(" name"),n("span",{class:"token punctuation"},","),s(" price"),n("span",{class:"token punctuation"},","),s(" copies"),n("span",{class:"token punctuation"},")"),s(`
        values
        `),n("span",{class:"token operator"},"<"),s("foreach collection"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"setmealDishes"'),s(" item"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"sd"'),s(" separator"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'","'),n("span",{class:"token operator"},">"),s(`
            `),n("span",{class:"token punctuation"},"("),s("#"),n("span",{class:"token punctuation"},"{"),s("sd"),n("span",{class:"token punctuation"},"."),s("setmealId"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s("#"),n("span",{class:"token punctuation"},"{"),s("sd"),n("span",{class:"token punctuation"},"."),s("dishId"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s("#"),n("span",{class:"token punctuation"},"{"),s("sd"),n("span",{class:"token punctuation"},"."),s("name"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s("#"),n("span",{class:"token punctuation"},"{"),s("sd"),n("span",{class:"token punctuation"},"."),s("price"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s("#"),n("span",{class:"token punctuation"},"{"),s("sd"),n("span",{class:"token punctuation"},"."),s("copies"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token operator"},"<"),n("span",{class:"token operator"},"/"),s("foreach"),n("span",{class:"token operator"},">"),s(`
    `),n("span",{class:"token operator"},"<"),n("span",{class:"token operator"},"/"),s("insert"),n("span",{class:"token operator"},">"),s(`

    `),n("span",{class:"token operator"},"<"),s("select id"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"getDishIdsBySetmealIds"'),s(" resultType"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"java.lang.Long"'),n("span",{class:"token operator"},">"),s(`
        select dish_id from setmeal_dish
        where setmeal_id in
        `),n("span",{class:"token operator"},"<"),s("foreach collection"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"setmealIds"'),s(" item"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"setmealId"'),s(" separator"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'","'),s(),n("span",{class:"token keyword"},"open"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"("'),s(" close"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'")"'),n("span",{class:"token operator"},">"),s(`
            #`),n("span",{class:"token punctuation"},"{"),s("setmealId"),n("span",{class:"token punctuation"},"}"),s(`
        `),n("span",{class:"token operator"},"<"),n("span",{class:"token operator"},"/"),s("foreach"),n("span",{class:"token operator"},">"),s(`
    `),n("span",{class:"token operator"},"<"),n("span",{class:"token operator"},"/"),s("select"),n("span",{class:"token operator"},">"),s(`
`),n("span",{class:"token operator"},"<"),n("span",{class:"token operator"},"/"),s("mapper"),n("span",{class:"token operator"},">"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1);function O(T,I){const o=l("Tabs");return p(),i("div",null,[r,u(o,{id:"3",data:[{id:"Controller层"},{id:"Service接口层"},{id:"Service实现层"},{id:"Mapper层"},{id:"SetmealDishMapper层"}]},{title0:a(({value:t,isActive:e})=>[s("Controller层")]),title1:a(({value:t,isActive:e})=>[s("Service接口层")]),title2:a(({value:t,isActive:e})=>[s("Service实现层")]),title3:a(({value:t,isActive:e})=>[s("Mapper层")]),title4:a(({value:t,isActive:e})=>[s("SetmealDishMapper层")]),tab0:a(({value:t,isActive:e})=>[m]),tab1:a(({value:t,isActive:e})=>[d]),tab2:a(({value:t,isActive:e})=>[v]),tab3:a(({value:t,isActive:e})=>[b,y,g,w]),tab4:a(({value:t,isActive:e})=>[h,f,S,D]),_:1})])}const M=c(k,[["render",O],["__file","skytakeout04.html.vue"]]),P=JSON.parse('{"path":"/project/skytakeout/skytakeout04.html","title":"Day04 项目实战（套餐管理）","lang":"zh-CN","frontmatter":{"order":4,"date":"2023-07-18T00:00:00.000Z","category":["苍穹外卖"],"description":"Day04 项目实战（套餐管理）","head":[["meta",{"property":"og:url","content":"https://tech.dongcp.top/project/skytakeout/skytakeout04.html"}],["meta",{"property":"og:site_name","content":"Simeis 147"}],["meta",{"property":"og:title","content":"Day04 项目实战（套餐管理）"}],["meta",{"property":"og:description","content":"Day04 项目实战（套餐管理）"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2023-08-31T10:16:19.000Z"}],["meta",{"property":"article:author","content":"Dongcp"}],["meta",{"property":"article:published_time","content":"2023-07-18T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2023-08-31T10:16:19.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Day04 项目实战（套餐管理）\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2023-07-18T00:00:00.000Z\\",\\"dateModified\\":\\"2023-08-31T10:16:19.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Dongcp\\",\\"url\\":\\"https://github.com/simeis147\\"}]}"]]},"headers":[],"git":{"createdTime":1689764954000,"updatedTime":1693476979000,"contributors":[{"name":"Dongcp","email":"cpdong7@gmail.com","commits":2}]},"readingTime":{"minutes":4.66,"words":1399},"filePathRelative":"project/skytakeout/skytakeout04.md","localizedDate":"2023年7月18日","excerpt":"\\n\\n","autoDesc":true}');export{M as comp,P as data};
