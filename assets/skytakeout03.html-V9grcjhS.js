import{_ as l}from"./plugin-vue_export-helper-x3n3nnut.js";import{r as i,o as p,c as u,f as c,w as a,d as n,e as s}from"./app-YvYfpn4w.js";const r={},k=n("h1",{id:"day03-菜品管理",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#day03-菜品管理","aria-hidden":"true"},"#"),s(" Day03 菜品管理")],-1),d=n("h2",{id:"_1-公共字段自动填充🍐-✏️-🚩",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_1-公共字段自动填充🍐-✏️-🚩","aria-hidden":"true"},"#"),s(" 1. 公共字段自动填充🍐 ✏️ 🚩")],-1),m=n("p",null,[n("strong",null,"自定义注解 AutoFill"),n("br"),s(" 进入到sky-server模块，创建com.sky.annotation包。")],-1),v=n("div",{class:"language-java line-numbers-mode","data-ext":"java"},[n("pre",{class:"language-java"},[n("code",null,[n("span",{class:"token keyword"},"package"),s(),n("span",{class:"token namespace"},[s("com"),n("span",{class:"token punctuation"},"."),s("sky"),n("span",{class:"token punctuation"},"."),s("annotation")]),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token doc-comment comment"},`/**
 * 自定义注解，用于标识某个方法需要进行功能字段自动填充处理
 */`),s(`
`),n("span",{class:"token annotation punctuation"},"@Target"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"ElementType"),n("span",{class:"token punctuation"},"."),n("span",{class:"token constant"},"METHOD"),n("span",{class:"token punctuation"},")"),s(`
`),n("span",{class:"token annotation punctuation"},"@Retention"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"RetentionPolicy"),n("span",{class:"token punctuation"},"."),n("span",{class:"token constant"},"RUNTIME"),n("span",{class:"token punctuation"},")"),s(`
`),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token annotation punctuation"},"@interface"),s(),n("span",{class:"token class-name"},"AutoFill"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token comment"},"//数据库操作类型：UPDATE INSERT"),s(`
    `),n("span",{class:"token class-name"},"OperationType"),s(),n("span",{class:"token function"},"value"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),b=n("p",null,"其中OperationType已在sky-common模块中定义",-1),g=n("div",{class:"language-java line-numbers-mode","data-ext":"java"},[n("pre",{class:"language-java"},[n("code",null,[n("span",{class:"token keyword"},"package"),s(),n("span",{class:"token namespace"},[s("com"),n("span",{class:"token punctuation"},"."),s("sky"),n("span",{class:"token punctuation"},"."),s("enumeration")]),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token doc-comment comment"},`/**
 * 数据库操作类型
 */`),s(`
`),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"enum"),s(),n("span",{class:"token class-name"},"OperationType"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token doc-comment comment"},"/** 更新操作*/"),s(`
    `),n("span",{class:"token constant"},"UPDATE"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token doc-comment comment"},"/** 插入操作*/"),s(`
    `),n("span",{class:"token constant"},"INSERT"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),h=n("p",null,[n("strong",null,"自定义切面 AutoFillAspect"),n("br"),s(" 在sky-server模块，创建com.sky.aspect包。")],-1),y=n("p",null,[n("strong",null,"自定义切面 AutoFillAspect 的 autoFill 方法"),s(":")],-1),_=n("div",{class:"language-java line-numbers-mode","data-ext":"java"},[n("pre",{java:"",class:"language-java"},[n("code",null,[n("span",{class:"token keyword"},"package"),s(),n("span",{class:"token namespace"},[s("com"),n("span",{class:"token punctuation"},"."),s("sky"),n("span",{class:"token punctuation"},"."),s("aspect")]),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token doc-comment comment"},`/**
 * 自定义切面，实现公共字段自动填充处理逻辑
 */`),s(`
`),n("span",{class:"token annotation punctuation"},"@Aspect"),s(`
`),n("span",{class:"token annotation punctuation"},"@Component"),s(`
`),n("span",{class:"token annotation punctuation"},"@Slf4j"),s(`
`),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"class"),s(),n("span",{class:"token class-name"},"AutoFillAspect"),s(),n("span",{class:"token punctuation"},"{"),s(`

    `),n("span",{class:"token doc-comment comment"},`/**
     * 切入点
     */`),s(`
    `),n("span",{class:"token annotation punctuation"},"@Pointcut"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"execution(* com.sky.mapper.*.*(..)) && @annotation(com.sky.annotation.AutoFill)"'),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"void"),s(),n("span",{class:"token function"},"autoFillPointCut"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"{"),n("span",{class:"token punctuation"},"}"),s(`

    `),n("span",{class:"token doc-comment comment"},`/**
     * 前置通知，在通知中进行公共字段的赋值
     */`),s(`
    `),n("span",{class:"token annotation punctuation"},"@Before"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"autoFillPointCut()"'),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"void"),s(),n("span",{class:"token function"},"autoFill"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"JoinPoint"),s(" joinPoint"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"{"),s(`
        log`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"info"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"开始进行公共字段自动填充..."'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token comment"},"//获取到当前被拦截的方法上的数据库操作类型"),s(`
        `),n("span",{class:"token class-name"},"MethodSignature"),s(" signature "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"MethodSignature"),n("span",{class:"token punctuation"},")"),s(" joinPoint"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getSignature"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),n("span",{class:"token comment"},"//方法签名对象"),s(`
        `),n("span",{class:"token class-name"},"AutoFill"),s(" autoFill "),n("span",{class:"token operator"},"="),s(" signature"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getMethod"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getAnnotation"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"AutoFill"),n("span",{class:"token punctuation"},"."),n("span",{class:"token keyword"},"class"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),n("span",{class:"token comment"},"//获得方法上的注解对象"),s(`
        `),n("span",{class:"token class-name"},"OperationType"),s(" operationType "),n("span",{class:"token operator"},"="),s(" autoFill"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"value"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),n("span",{class:"token comment"},"//获得数据库操作类型"),s(`

        `),n("span",{class:"token comment"},"//获取到当前被拦截的方法的参数--实体对象"),s(`
        `),n("span",{class:"token class-name"},"Object"),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),s(" args "),n("span",{class:"token operator"},"="),s(" joinPoint"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getArgs"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"if"),n("span",{class:"token punctuation"},"("),s("args "),n("span",{class:"token operator"},"=="),s(),n("span",{class:"token keyword"},"null"),s(),n("span",{class:"token operator"},"||"),s(" args"),n("span",{class:"token punctuation"},"."),s("length "),n("span",{class:"token operator"},"=="),s(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token keyword"},"return"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(`

        `),n("span",{class:"token class-name"},"Object"),s(" entity "),n("span",{class:"token operator"},"="),s(" args"),n("span",{class:"token punctuation"},"["),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token comment"},"//准备赋值的数据"),s(`
        `),n("span",{class:"token class-name"},"LocalDateTime"),s(" now "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token class-name"},"LocalDateTime"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"now"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token class-name"},"Long"),s(" currentId "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token class-name"},"BaseContext"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getCurrentId"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token comment"},"//根据当前不同的操作类型，为对应的属性通过反射来赋值"),s(`
        `),n("span",{class:"token keyword"},"if"),n("span",{class:"token punctuation"},"("),s("operationType "),n("span",{class:"token operator"},"=="),s(),n("span",{class:"token class-name"},"OperationType"),n("span",{class:"token punctuation"},"."),n("span",{class:"token constant"},"INSERT"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token comment"},"//为4个公共字段赋值"),s(`
            `),n("span",{class:"token keyword"},"try"),s(),n("span",{class:"token punctuation"},"{"),s(`
                `),n("span",{class:"token class-name"},"Method"),s(" setCreateTime "),n("span",{class:"token operator"},"="),s(" entity"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getClass"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getDeclaredMethod"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"AutoFillConstant"),n("span",{class:"token punctuation"},"."),n("span",{class:"token constant"},"SET_CREATE_TIME"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},"LocalDateTime"),n("span",{class:"token punctuation"},"."),n("span",{class:"token keyword"},"class"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
                `),n("span",{class:"token class-name"},"Method"),s(" setCreateUser "),n("span",{class:"token operator"},"="),s(" entity"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getClass"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getDeclaredMethod"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"AutoFillConstant"),n("span",{class:"token punctuation"},"."),n("span",{class:"token constant"},"SET_CREATE_USER"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},"Long"),n("span",{class:"token punctuation"},"."),n("span",{class:"token keyword"},"class"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
                `),n("span",{class:"token class-name"},"Method"),s(" setUpdateTime "),n("span",{class:"token operator"},"="),s(" entity"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getClass"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getDeclaredMethod"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"AutoFillConstant"),n("span",{class:"token punctuation"},"."),n("span",{class:"token constant"},"SET_UPDATE_TIME"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},"LocalDateTime"),n("span",{class:"token punctuation"},"."),n("span",{class:"token keyword"},"class"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
                `),n("span",{class:"token class-name"},"Method"),s(" setUpdateUser "),n("span",{class:"token operator"},"="),s(" entity"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getClass"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getDeclaredMethod"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"AutoFillConstant"),n("span",{class:"token punctuation"},"."),n("span",{class:"token constant"},"SET_UPDATE_USER"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},"Long"),n("span",{class:"token punctuation"},"."),n("span",{class:"token keyword"},"class"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

                `),n("span",{class:"token comment"},"//通过反射为对象属性赋值"),s(`
                setCreateTime`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"invoke"),n("span",{class:"token punctuation"},"("),s("entity"),n("span",{class:"token punctuation"},","),s("now"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
                setCreateUser`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"invoke"),n("span",{class:"token punctuation"},"("),s("entity"),n("span",{class:"token punctuation"},","),s("currentId"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
                setUpdateTime`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"invoke"),n("span",{class:"token punctuation"},"("),s("entity"),n("span",{class:"token punctuation"},","),s("now"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
                setUpdateUser`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"invoke"),n("span",{class:"token punctuation"},"("),s("entity"),n("span",{class:"token punctuation"},","),s("currentId"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
            `),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"catch"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"Exception"),s(" e"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
                e`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"printStackTrace"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
            `),n("span",{class:"token punctuation"},"}"),s(`
        `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token keyword"},"else"),s(),n("span",{class:"token keyword"},"if"),n("span",{class:"token punctuation"},"("),s("operationType "),n("span",{class:"token operator"},"=="),s(),n("span",{class:"token class-name"},"OperationType"),n("span",{class:"token punctuation"},"."),n("span",{class:"token constant"},"UPDATE"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token comment"},"//为2个公共字段赋值"),s(`
            `),n("span",{class:"token keyword"},"try"),s(),n("span",{class:"token punctuation"},"{"),s(`
                `),n("span",{class:"token class-name"},"Method"),s(" setUpdateTime "),n("span",{class:"token operator"},"="),s(" entity"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getClass"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getDeclaredMethod"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"AutoFillConstant"),n("span",{class:"token punctuation"},"."),n("span",{class:"token constant"},"SET_UPDATE_TIME"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},"LocalDateTime"),n("span",{class:"token punctuation"},"."),n("span",{class:"token keyword"},"class"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
                `),n("span",{class:"token class-name"},"Method"),s(" setUpdateUser "),n("span",{class:"token operator"},"="),s(" entity"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getClass"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getDeclaredMethod"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"AutoFillConstant"),n("span",{class:"token punctuation"},"."),n("span",{class:"token constant"},"SET_UPDATE_USER"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},"Long"),n("span",{class:"token punctuation"},"."),n("span",{class:"token keyword"},"class"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

                `),n("span",{class:"token comment"},"//通过反射为对象属性赋值"),s(`
                setUpdateTime`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"invoke"),n("span",{class:"token punctuation"},"("),s("entity"),n("span",{class:"token punctuation"},","),s("now"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
                setUpdateUser`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"invoke"),n("span",{class:"token punctuation"},"("),s("entity"),n("span",{class:"token punctuation"},","),s("currentId"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
            `),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"catch"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"Exception"),s(" e"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
                e`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"printStackTrace"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
            `),n("span",{class:"token punctuation"},"}"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"highlight-lines"},[n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("div",{class:"highlight-line"}," "),n("br"),n("br"),n("br"),n("br"),n("br"),n("div",{class:"highlight-line"}," "),n("br"),n("br"),n("br"),n("br"),n("div",{class:"highlight-line"}," "),n("div",{class:"highlight-line"}," "),n("div",{class:"highlight-line"}," "),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br")]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),w=n("p",null,[n("strong",null,"在Mapper接口的方法上加入 AutoFill 注解"),s(":")],-1),f=n("p",null,"以CategoryMapper为例，分别在新增和修改方法添加@AutoFill()注解，也需要EmployeeMapper做相同操作",-1),D=n("div",{class:"language-java line-numbers-mode","data-ext":"java"},[n("pre",{class:"language-java"},[n("code",null,[n("span",{class:"token keyword"},"package"),s(),n("span",{class:"token namespace"},[s("com"),n("span",{class:"token punctuation"},"."),s("sky"),n("span",{class:"token punctuation"},"."),s("mapper")]),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token annotation punctuation"},"@Mapper"),s(`
`),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"interface"),s(),n("span",{class:"token class-name"},"CategoryMapper"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token doc-comment comment"},[s(`/**
     * 插入数据
     * `),n("span",{class:"token keyword"},"@param"),s(),n("span",{class:"token parameter"},"category"),s(`
     */`)]),s(`
    `),n("span",{class:"token annotation punctuation"},"@Insert"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"insert into category(type, name, sort, status, create_time, update_time, create_user, update_user)"'),s(),n("span",{class:"token operator"},"+"),s(`
            `),n("span",{class:"token string"},'" VALUES"'),s(),n("span",{class:"token operator"},"+"),s(`
            `),n("span",{class:"token string"},'" (#{type}, #{name}, #{sort}, #{status}, #{createTime}, #{updateTime}, #{createUser}, #{updateUser})"'),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token annotation punctuation"},"@AutoFill"),n("span",{class:"token punctuation"},"("),s("value "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token class-name"},"OperationType"),n("span",{class:"token punctuation"},"."),n("span",{class:"token constant"},"INSERT"),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token keyword"},"void"),s(),n("span",{class:"token function"},"insert"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"Category"),s(" category"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token doc-comment comment"},[s(`/**
     * 根据id修改分类
     * `),n("span",{class:"token keyword"},"@param"),s(),n("span",{class:"token parameter"},"category"),s(`
     */`)]),s(`
    `),n("span",{class:"token annotation punctuation"},"@AutoFill"),n("span",{class:"token punctuation"},"("),s("value "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token class-name"},"OperationType"),n("span",{class:"token punctuation"},"."),n("span",{class:"token constant"},"UPDATE"),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token keyword"},"void"),s(),n("span",{class:"token function"},"update"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"Category"),s(" category"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),T=n("p",null,[n("strong",null,"同时"),s("，将业务层为公共字段赋值的代码"),n("code",null,"注释"),s("掉。")],-1),j=n("ul",null,[n("li",null,"将员工管理的新增和编辑方法中的公共字段赋值的代码注释。"),n("li",null,"将菜品分类管理的新增和修改方法中的公共字段赋值的代码注释。")],-1),A=n("h2",{id:"_2-新增菜品-🚩",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_2-新增菜品-🚩","aria-hidden":"true"},"#"),s(" 2. 新增菜品 🚩")],-1),S=n("p",null,"在sky-pojo模块中",-1),O=n("div",{class:"language-java line-numbers-mode","data-ext":"java"},[n("pre",{class:"language-java"},[n("code",null,[n("span",{class:"token keyword"},"package"),s(),n("span",{class:"token namespace"},[s("com"),n("span",{class:"token punctuation"},"."),s("sky"),n("span",{class:"token punctuation"},"."),s("dto")]),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token annotation punctuation"},"@Data"),s(`
`),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"class"),s(),n("span",{class:"token class-name"},"DishDTO"),s(),n("span",{class:"token keyword"},"implements"),s(),n("span",{class:"token class-name"},"Serializable"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"private"),s(),n("span",{class:"token class-name"},"Long"),s(" id"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token comment"},"//菜品名称"),s(`
    `),n("span",{class:"token keyword"},"private"),s(),n("span",{class:"token class-name"},"String"),s(" name"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token comment"},"//菜品分类id"),s(`
    `),n("span",{class:"token keyword"},"private"),s(),n("span",{class:"token class-name"},"Long"),s(" categoryId"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token comment"},"//菜品价格"),s(`
    `),n("span",{class:"token keyword"},"private"),s(),n("span",{class:"token class-name"},"BigDecimal"),s(" price"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token comment"},"//图片"),s(`
    `),n("span",{class:"token keyword"},"private"),s(),n("span",{class:"token class-name"},"String"),s(" image"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token comment"},"//描述信息"),s(`
    `),n("span",{class:"token keyword"},"private"),s(),n("span",{class:"token class-name"},"String"),s(" description"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token comment"},"//0 停售 1 起售"),s(`
    `),n("span",{class:"token keyword"},"private"),s(),n("span",{class:"token class-name"},"Integer"),s(" status"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token comment"},"//口味"),s(`
    `),n("span",{class:"token keyword"},"private"),s(),n("span",{class:"token class-name"},"List"),n("span",{class:"token generics"},[n("span",{class:"token punctuation"},"<"),n("span",{class:"token class-name"},"DishFlavor"),n("span",{class:"token punctuation"},">")]),s(" flavors "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"ArrayList"),n("span",{class:"token generics"},[n("span",{class:"token punctuation"},"<"),n("span",{class:"token punctuation"},">")]),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),I=n("p",null,"进入到sky-server模块",-1),M=n("div",{class:"language-java line-numbers-mode","data-ext":"java"},[n("pre",{class:"language-java"},[n("code",null,[n("span",{class:"token keyword"},"package"),s(),n("span",{class:"token namespace"},[s("com"),n("span",{class:"token punctuation"},"."),s("sky"),n("span",{class:"token punctuation"},"."),s("controller"),n("span",{class:"token punctuation"},"."),s("admin")]),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token doc-comment comment"},`/**
 * 菜品管理
 */`),s(`
`),n("span",{class:"token annotation punctuation"},"@RestController"),s(`
`),n("span",{class:"token annotation punctuation"},"@RequestMapping"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"/admin/dish"'),n("span",{class:"token punctuation"},")"),s(`
`),n("span",{class:"token annotation punctuation"},"@Api"),n("span",{class:"token punctuation"},"("),s("tags "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},'"菜品相关接口"'),n("span",{class:"token punctuation"},")"),s(`
`),n("span",{class:"token annotation punctuation"},"@Slf4j"),s(`
`),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"class"),s(),n("span",{class:"token class-name"},"DishController"),s(),n("span",{class:"token punctuation"},"{"),s(`

    `),n("span",{class:"token annotation punctuation"},"@Autowired"),s(`
    `),n("span",{class:"token keyword"},"private"),s(),n("span",{class:"token class-name"},"DishService"),s(" dishService"),n("span",{class:"token punctuation"},";"),s(`

    `),n("span",{class:"token doc-comment comment"},[s(`/**
     * 新增菜品
     *
     * `),n("span",{class:"token keyword"},"@param"),s(),n("span",{class:"token parameter"},"dishDTO"),s(`
     * `),n("span",{class:"token keyword"},"@return"),s(`
     */`)]),s(`
    `),n("span",{class:"token annotation punctuation"},"@PostMapping"),s(`
    `),n("span",{class:"token annotation punctuation"},"@ApiOperation"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"新增菜品"'),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token class-name"},"Result"),s(),n("span",{class:"token function"},"save"),n("span",{class:"token punctuation"},"("),n("span",{class:"token annotation punctuation"},"@RequestBody"),s(),n("span",{class:"token class-name"},"DishDTO"),s(" dishDTO"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        log`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"info"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"新增菜品：{}"'),n("span",{class:"token punctuation"},","),s(" dishDTO"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        dishService`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"saveWithFlavor"),n("span",{class:"token punctuation"},"("),s("dishDTO"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),n("span",{class:"token comment"},"//后绪步骤开发"),s(`
        `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token class-name"},"Result"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"success"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),F=n("div",{class:"language-java line-numbers-mode","data-ext":"java"},[n("pre",{class:"language-java"},[n("code",null,[n("span",{class:"token keyword"},"package"),s(),n("span",{class:"token namespace"},[s("com"),n("span",{class:"token punctuation"},"."),s("sky"),n("span",{class:"token punctuation"},"."),s("service")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"interface"),s(),n("span",{class:"token class-name"},"DishService"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token doc-comment comment"},[s(`/**
     * 新增菜品和对应的口味
     * `),n("span",{class:"token keyword"},"@param"),s(),n("span",{class:"token parameter"},"dishDTO"),s(`
     */`)]),s(`
    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"void"),s(),n("span",{class:"token function"},"saveWithFlavor"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"DishDTO"),s(" dishDTO"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),x=n("div",{class:"language-java line-numbers-mode","data-ext":"java"},[n("pre",{class:"language-java"},[n("code",null,[n("span",{class:"token keyword"},"package"),s(),n("span",{class:"token namespace"},[s("com"),n("span",{class:"token punctuation"},"."),s("sky"),n("span",{class:"token punctuation"},"."),s("service"),n("span",{class:"token punctuation"},"."),s("impl")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token annotation punctuation"},"@Service"),s(`
`),n("span",{class:"token annotation punctuation"},"@Slf4j"),s(`
`),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"class"),s(),n("span",{class:"token class-name"},"DishServiceImpl"),s(),n("span",{class:"token keyword"},"implements"),s(),n("span",{class:"token class-name"},"DishService"),s(),n("span",{class:"token punctuation"},"{"),s(`

    `),n("span",{class:"token annotation punctuation"},"@Autowired"),s(`
    `),n("span",{class:"token keyword"},"private"),s(),n("span",{class:"token class-name"},"DishMapper"),s(" dishMapper"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token annotation punctuation"},"@Autowired"),s(`
    `),n("span",{class:"token keyword"},"private"),s(),n("span",{class:"token class-name"},"DishFlavorMapper"),s(" dishFlavorMapper"),n("span",{class:"token punctuation"},";"),s(`

    `),n("span",{class:"token doc-comment comment"},[s(`/**
     * 新增菜品和对应的口味
     *
     * `),n("span",{class:"token keyword"},"@param"),s(),n("span",{class:"token parameter"},"dishDTO"),s(`
     */`)]),s(`
    `),n("span",{class:"token annotation punctuation"},"@Transactional"),s(`
    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"void"),s(),n("span",{class:"token function"},"saveWithFlavor"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"DishDTO"),s(" dishDTO"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`

        `),n("span",{class:"token class-name"},"Dish"),s(" dish "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"Dish"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token class-name"},"BeanUtils"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"copyProperties"),n("span",{class:"token punctuation"},"("),s("dishDTO"),n("span",{class:"token punctuation"},","),s(" dish"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token comment"},"//向菜品表插入1条数据"),s(`
        dishMapper`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"insert"),n("span",{class:"token punctuation"},"("),s("dish"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),n("span",{class:"token comment"},"//后绪步骤实现"),s(`

        `),n("span",{class:"token comment"},"//获取insert语句生成的主键值"),s(`
        `),n("span",{class:"token class-name"},"Long"),s(" dishId "),n("span",{class:"token operator"},"="),s(" dish"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getId"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token class-name"},"List"),n("span",{class:"token generics"},[n("span",{class:"token punctuation"},"<"),n("span",{class:"token class-name"},"DishFlavor"),n("span",{class:"token punctuation"},">")]),s(" flavors "),n("span",{class:"token operator"},"="),s(" dishDTO"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getFlavors"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("flavors "),n("span",{class:"token operator"},"!="),s(),n("span",{class:"token keyword"},"null"),s(),n("span",{class:"token operator"},"&&"),s(" flavors"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"size"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},">"),s(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
            flavors`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"forEach"),n("span",{class:"token punctuation"},"("),s("dishFlavor "),n("span",{class:"token operator"},"->"),s(),n("span",{class:"token punctuation"},"{"),s(`
                dishFlavor`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"setDishId"),n("span",{class:"token punctuation"},"("),s("dishId"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
            `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
            `),n("span",{class:"token comment"},"//向口味表插入n条数据"),s(`
            dishFlavorMapper`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"insertBatch"),n("span",{class:"token punctuation"},"("),s("flavors"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),n("span",{class:"token comment"},"//后绪步骤实现"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`

`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),L=n("p",null,"DishMapper.java中添加",-1),P=n("div",{class:"language-java line-numbers-mode","data-ext":"java"},[n("pre",{class:"language-java"},[n("code",null,[s("  "),n("span",{class:"token doc-comment comment"},[s(`/**
     * 插入菜品数据
     * `),n("span",{class:"token keyword"},"@param"),s(),n("span",{class:"token parameter"},"dish"),s(`
     */`)]),s(`
    `),n("span",{class:"token annotation punctuation"},"@AutoFill"),n("span",{class:"token punctuation"},"("),s("value "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token class-name"},"OperationType"),n("span",{class:"token punctuation"},"."),n("span",{class:"token constant"},"INSERT"),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token keyword"},"void"),s(),n("span",{class:"token function"},"insert"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"Dish"),s(" dish"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),E=n("p",null,"在/resources/mapper中创建DishMapper.xml",-1),C=n("div",{class:"language-java line-numbers-mode","data-ext":"java"},[n("pre",{class:"language-java"},[n("code",null,[n("span",{class:"token operator"},"<"),n("span",{class:"token operator"},"?"),s("xml version"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"1.0"'),s(" encoding"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"UTF-8"'),s(),n("span",{class:"token operator"},"?"),n("span",{class:"token operator"},">"),s(`
`),n("span",{class:"token operator"},"<"),n("span",{class:"token operator"},"!"),n("span",{class:"token constant"},"DOCTYPE"),s(" mapper "),n("span",{class:"token constant"},"PUBLIC"),s(),n("span",{class:"token string"},'"-//mybatis.org//DTD Mapper 3.0//EN"'),s(`
        `),n("span",{class:"token string"},'"http://mybatis.org/dtd/mybatis-3-mapper.dtd"'),s(),n("span",{class:"token operator"},">"),s(`
`),n("span",{class:"token operator"},"<"),s("mapper namespace"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"com.sky.mapper.DishMapper"'),n("span",{class:"token operator"},">"),s(`

    `),n("span",{class:"token operator"},"<"),s("insert id"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"insert"'),s(" useGeneratedKeys"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"true"'),s(" keyProperty"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"id"'),n("span",{class:"token operator"},">"),s(`
        insert into dish `),n("span",{class:"token punctuation"},"("),s("name"),n("span",{class:"token punctuation"},","),s(" category_id"),n("span",{class:"token punctuation"},","),s(" price"),n("span",{class:"token punctuation"},","),s(" image"),n("span",{class:"token punctuation"},","),s(" description"),n("span",{class:"token punctuation"},","),s(" create_time"),n("span",{class:"token punctuation"},","),s(" update_time"),n("span",{class:"token punctuation"},","),s(" create_user"),n("span",{class:"token punctuation"},","),s("update_user"),n("span",{class:"token punctuation"},","),s(" status"),n("span",{class:"token punctuation"},")"),s(`
        values `),n("span",{class:"token punctuation"},"("),s("#"),n("span",{class:"token punctuation"},"{"),s("name"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(" #"),n("span",{class:"token punctuation"},"{"),s("categoryId"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(" #"),n("span",{class:"token punctuation"},"{"),s("price"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(" #"),n("span",{class:"token punctuation"},"{"),s("image"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(" #"),n("span",{class:"token punctuation"},"{"),s("description"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(" #"),n("span",{class:"token punctuation"},"{"),s("createTime"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(" #"),n("span",{class:"token punctuation"},"{"),s("updateTime"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(" #"),n("span",{class:"token punctuation"},"{"),s("createUser"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s("#"),n("span",{class:"token punctuation"},"{"),s("updateUser"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(" #"),n("span",{class:"token punctuation"},"{"),s("status"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token operator"},"<"),n("span",{class:"token operator"},"/"),s("insert"),n("span",{class:"token operator"},">"),s(`
`),n("span",{class:"token operator"},"<"),n("span",{class:"token operator"},"/"),s("mapper"),n("span",{class:"token operator"},">"),s(`

`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),B=n("p",null,"DishFlavorMapper.java",-1),U=n("div",{class:"language-java line-numbers-mode","data-ext":"java"},[n("pre",{class:"language-java"},[n("code",null,[n("span",{class:"token keyword"},"package"),s(),n("span",{class:"token namespace"},[s("com"),n("span",{class:"token punctuation"},"."),s("sky"),n("span",{class:"token punctuation"},"."),s("mapper")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token annotation punctuation"},"@Mapper"),s(`
`),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"interface"),s(),n("span",{class:"token class-name"},"DishFlavorMapper"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token doc-comment comment"},[s(`/**
     * 批量插入口味数据
     * `),n("span",{class:"token keyword"},"@param"),s(),n("span",{class:"token parameter"},"flavors"),s(`
     */`)]),s(`
    `),n("span",{class:"token keyword"},"void"),s(),n("span",{class:"token function"},"insertBatch"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"List"),n("span",{class:"token generics"},[n("span",{class:"token punctuation"},"<"),n("span",{class:"token class-name"},"DishFlavor"),n("span",{class:"token punctuation"},">")]),s(" flavors"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),R=n("p",null,"在/resources/mapper中创建DishFlavorMapper.xml",-1),Q=n("div",{class:"language-java line-numbers-mode","data-ext":"java"},[n("pre",{class:"language-java"},[n("code",null,[n("span",{class:"token operator"},"<"),n("span",{class:"token operator"},"?"),s("xml version"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"1.0"'),s(" encoding"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"UTF-8"'),s(),n("span",{class:"token operator"},"?"),n("span",{class:"token operator"},">"),s(`
`),n("span",{class:"token operator"},"<"),n("span",{class:"token operator"},"!"),n("span",{class:"token constant"},"DOCTYPE"),s(" mapper "),n("span",{class:"token constant"},"PUBLIC"),s(),n("span",{class:"token string"},'"-//mybatis.org//DTD Mapper 3.0//EN"'),s(`
        `),n("span",{class:"token string"},'"http://mybatis.org/dtd/mybatis-3-mapper.dtd"'),s(),n("span",{class:"token operator"},">"),s(`
`),n("span",{class:"token operator"},"<"),s("mapper namespace"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"com.sky.mapper.DishFlavorMapper"'),n("span",{class:"token operator"},">"),s(`

    `),n("span",{class:"token operator"},"<"),s("insert id"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"insertBatch"'),n("span",{class:"token operator"},">"),s(`
        insert into dish_flavor `),n("span",{class:"token punctuation"},"("),s("dish_id"),n("span",{class:"token punctuation"},","),s(" name"),n("span",{class:"token punctuation"},","),s(" value"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token constant"},"VALUES"),s(`

        `),n("span",{class:"token operator"},"<"),s("foreach collection"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"flavors"'),s(" item"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"df"'),s(" separator"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'","'),n("span",{class:"token operator"},">"),s(`
            `),n("span",{class:"token punctuation"},"("),s("#"),n("span",{class:"token punctuation"},"{"),s("df"),n("span",{class:"token punctuation"},"."),s("dishId"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s("#"),n("span",{class:"token punctuation"},"{"),s("df"),n("span",{class:"token punctuation"},"."),s("name"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s("#"),n("span",{class:"token punctuation"},"{"),s("df"),n("span",{class:"token punctuation"},"."),s("value"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token operator"},"<"),n("span",{class:"token operator"},"/"),s("foreach"),n("span",{class:"token operator"},">"),s(`

    `),n("span",{class:"token operator"},"<"),n("span",{class:"token operator"},"/"),s("insert"),n("span",{class:"token operator"},">"),s(`
`),n("span",{class:"token operator"},"<"),n("span",{class:"token operator"},"/"),s("mapper"),n("span",{class:"token operator"},">"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),V=n("h2",{id:"_3-菜品分页查询-🚩",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_3-菜品分页查询-🚩","aria-hidden":"true"},"#"),s(" 3. 菜品分页查询 🚩")],-1),N=n("p",null,"在sky-pojo模块中，已定义",-1),W=n("div",{class:"language-java line-numbers-mode","data-ext":"java"},[n("pre",{class:"language-java"},[n("code",null,[n("span",{class:"token keyword"},"package"),s(),n("span",{class:"token namespace"},[s("com"),n("span",{class:"token punctuation"},"."),s("sky"),n("span",{class:"token punctuation"},"."),s("dto")]),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token annotation punctuation"},"@Data"),s(`
`),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"class"),s(),n("span",{class:"token class-name"},"DishPageQueryDTO"),s(),n("span",{class:"token keyword"},"implements"),s(),n("span",{class:"token class-name"},"Serializable"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"private"),s(),n("span",{class:"token keyword"},"int"),s(" page"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token keyword"},"private"),s(),n("span",{class:"token keyword"},"int"),s(" pageSize"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token keyword"},"private"),s(),n("span",{class:"token class-name"},"String"),s(" name"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token comment"},"//分类id"),s(`
    `),n("span",{class:"token keyword"},"private"),s(),n("span",{class:"token class-name"},"Integer"),s(" categoryId"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token comment"},"//状态 0表示禁用 1表示启用"),s(`
    `),n("span",{class:"token keyword"},"private"),s(),n("span",{class:"token class-name"},"Integer"),s(" status"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),z=n("p",null,"根据菜品分页查询接口定义设计对应的VO：",-1),q=n("p",null,"在sky-pojo模块中，已定义",-1),H=n("div",{class:"language-java line-numbers-mode","data-ext":"java"},[n("pre",{class:"language-java"},[n("code",null,[n("span",{class:"token keyword"},"package"),s(),n("span",{class:"token namespace"},[s("com"),n("span",{class:"token punctuation"},"."),s("sky"),n("span",{class:"token punctuation"},"."),s("vo")]),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token annotation punctuation"},"@Data"),s(`
`),n("span",{class:"token annotation punctuation"},"@Builder"),s(`
`),n("span",{class:"token annotation punctuation"},"@NoArgsConstructor"),s(`
`),n("span",{class:"token annotation punctuation"},"@AllArgsConstructor"),s(`
`),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"class"),s(),n("span",{class:"token class-name"},"DishVO"),s(),n("span",{class:"token keyword"},"implements"),s(),n("span",{class:"token class-name"},"Serializable"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"private"),s(),n("span",{class:"token class-name"},"Long"),s(" id"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token comment"},"//菜品名称"),s(`
    `),n("span",{class:"token keyword"},"private"),s(),n("span",{class:"token class-name"},"String"),s(" name"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token comment"},"//菜品分类id"),s(`
    `),n("span",{class:"token keyword"},"private"),s(),n("span",{class:"token class-name"},"Long"),s(" categoryId"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token comment"},"//菜品价格"),s(`
    `),n("span",{class:"token keyword"},"private"),s(),n("span",{class:"token class-name"},"BigDecimal"),s(" price"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token comment"},"//图片"),s(`
    `),n("span",{class:"token keyword"},"private"),s(),n("span",{class:"token class-name"},"String"),s(" image"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token comment"},"//描述信息"),s(`
    `),n("span",{class:"token keyword"},"private"),s(),n("span",{class:"token class-name"},"String"),s(" description"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token comment"},"//0 停售 1 起售"),s(`
    `),n("span",{class:"token keyword"},"private"),s(),n("span",{class:"token class-name"},"Integer"),s(" status"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token comment"},"//更新时间"),s(`
    `),n("span",{class:"token keyword"},"private"),s(),n("span",{class:"token class-name"},"LocalDateTime"),s(" updateTime"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token comment"},"//分类名称"),s(`
    `),n("span",{class:"token keyword"},"private"),s(),n("span",{class:"token class-name"},"String"),s(" categoryName"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token comment"},"//菜品关联的口味"),s(`
    `),n("span",{class:"token keyword"},"private"),s(),n("span",{class:"token class-name"},"List"),n("span",{class:"token generics"},[n("span",{class:"token punctuation"},"<"),n("span",{class:"token class-name"},"DishFlavor"),n("span",{class:"token punctuation"},">")]),s(" flavors "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"ArrayList"),n("span",{class:"token generics"},[n("span",{class:"token punctuation"},"<"),n("span",{class:"token punctuation"},">")]),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),Y=n("p",null,"根据接口定义创建DishController的page分页查询方法：",-1),G=n("div",{class:"language-java line-numbers-mode","data-ext":"java"},[n("pre",{class:"language-java"},[n("code",null,[s("  "),n("span",{class:"token doc-comment comment"},[s(`/**
     * 菜品分页查询
     *
     * `),n("span",{class:"token keyword"},"@param"),s(),n("span",{class:"token parameter"},"dishPageQueryDTO"),s(`
     * `),n("span",{class:"token keyword"},"@return"),s(`
     */`)]),s(`
    `),n("span",{class:"token annotation punctuation"},"@GetMapping"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"/page"'),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token annotation punctuation"},"@ApiOperation"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"菜品分页查询"'),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token class-name"},"Result"),n("span",{class:"token generics"},[n("span",{class:"token punctuation"},"<"),n("span",{class:"token class-name"},"PageResult"),n("span",{class:"token punctuation"},">")]),s(),n("span",{class:"token function"},"page"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"DishPageQueryDTO"),s(" dishPageQueryDTO"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        log`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"info"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"菜品分页查询:{}"'),n("span",{class:"token punctuation"},","),s(" dishPageQueryDTO"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token class-name"},"PageResult"),s(" pageResult "),n("span",{class:"token operator"},"="),s(" dishService"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"pageQuery"),n("span",{class:"token punctuation"},"("),s("dishPageQueryDTO"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),n("span",{class:"token comment"},"//后绪步骤定义"),s(`
        `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token class-name"},"Result"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"success"),n("span",{class:"token punctuation"},"("),s("pageResult"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),J=n("p",null,"在 DishService 中扩展分页查询方法：",-1),K=n("div",{class:"language-java line-numbers-mode","data-ext":"java"},[n("pre",{class:"language-java"},[n("code",null,[s("  "),n("span",{class:"token doc-comment comment"},[s(`/**
     * 菜品分页查询
     * `),n("span",{class:"token keyword"},"@param"),s(),n("span",{class:"token parameter"},"dishPageQueryDTO"),s(`
     * `),n("span",{class:"token keyword"},"@return"),s(`
     */`)]),s(`
    `),n("span",{class:"token class-name"},"PageResult"),s(),n("span",{class:"token function"},"pageQuery"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"DishPageQueryDTO"),s(" dishPageQueryDTO"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),X=n("p",null,"在 DishServiceImpl 中实现分页查询方法：",-1),Z=n("div",{class:"language-java line-numbers-mode","data-ext":"java"},[n("pre",{class:"language-java"},[n("code",null,[s("  "),n("span",{class:"token doc-comment comment"},[s(`/**
     * 菜品分页查询
     *
     * `),n("span",{class:"token keyword"},"@param"),s(),n("span",{class:"token parameter"},"dishPageQueryDTO"),s(`
     * `),n("span",{class:"token keyword"},"@return"),s(`
     */`)]),s(`
    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token class-name"},"PageResult"),s(),n("span",{class:"token function"},"pageQuery"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"DishPageQueryDTO"),s(" dishPageQueryDTO"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`

        `),n("span",{class:"token class-name"},"PageHelper"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"startPage"),n("span",{class:"token punctuation"},"("),s("dishPageQueryDTO"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getPage"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(" dishPageQueryDTO"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getPageSize"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        
        `),n("span",{class:"token class-name"},"Page"),n("span",{class:"token generics"},[n("span",{class:"token punctuation"},"<"),n("span",{class:"token class-name"},"DishVO"),n("span",{class:"token punctuation"},">")]),s(" page "),n("span",{class:"token operator"},"="),s(" dishMapper"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"pageQuery"),n("span",{class:"token punctuation"},"("),s("dishPageQueryDTO"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),n("span",{class:"token comment"},"//后绪步骤实现"),s(`

        `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"PageResult"),n("span",{class:"token punctuation"},"("),s("page"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getTotal"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(" page"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getResult"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),$=n("p",null,"在 DishMapper 接口中声明 pageQuery 方法：",-1),nn=n("div",{class:"language-java line-numbers-mode","data-ext":"java"},[n("pre",{class:"language-java"},[n("code",null,[s("  "),n("span",{class:"token doc-comment comment"},[s(`/**
     * 菜品分页查询
     *
     * `),n("span",{class:"token keyword"},"@param"),s(),n("span",{class:"token parameter"},"dishPageQueryDTO"),s(`
     * `),n("span",{class:"token keyword"},"@return"),s(`
     */`)]),s(`
    `),n("span",{class:"token class-name"},"Page"),n("span",{class:"token generics"},[n("span",{class:"token punctuation"},"<"),n("span",{class:"token class-name"},"DishVO"),n("span",{class:"token punctuation"},">")]),s(),n("span",{class:"token function"},"pageQuery"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"DishPageQueryDTO"),s(" dishPageQueryDTO"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),sn=n("p",null,"在 DishMapper.xml 中编写SQL：",-1),an=n("div",{class:"language-java line-numbers-mode","data-ext":"java"},[n("pre",{class:"language-java"},[n("code",null,[n("span",{class:"token operator"},"<"),s("select id"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"pageQuery"'),s(" resultType"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"com.sky.vo.DishVO"'),n("span",{class:"token operator"},">"),s(`
        select d`),n("span",{class:"token punctuation"},"."),s("* "),n("span",{class:"token punctuation"},","),s(" c"),n("span",{class:"token punctuation"},"."),s(`name as categoryName from dish d 
        left outer join category c on d`),n("span",{class:"token punctuation"},"."),s("category_id "),n("span",{class:"token operator"},"="),s(" c"),n("span",{class:"token punctuation"},"."),s(`id
        `),n("span",{class:"token generics"},[n("span",{class:"token punctuation"},"<"),s("where"),n("span",{class:"token punctuation"},">")]),s(`
            `),n("span",{class:"token operator"},"<"),n("span",{class:"token keyword"},"if"),s(" test"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"name != null"'),n("span",{class:"token operator"},">"),s(`
                and d`),n("span",{class:"token punctuation"},"."),s("name like "),n("span",{class:"token function"},"concat"),n("span",{class:"token punctuation"},"("),n("span",{class:"token char"},"'%'"),n("span",{class:"token punctuation"},","),s("#"),n("span",{class:"token punctuation"},"{"),s("name"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),n("span",{class:"token char"},"'%'"),n("span",{class:"token punctuation"},")"),s(`
            `),n("span",{class:"token operator"},"<"),n("span",{class:"token operator"},"/"),n("span",{class:"token keyword"},"if"),n("span",{class:"token operator"},">"),s(`
            `),n("span",{class:"token operator"},"<"),n("span",{class:"token keyword"},"if"),s(" test"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"categoryId != null"'),n("span",{class:"token operator"},">"),s(`
                and d`),n("span",{class:"token punctuation"},"."),s("category_id "),n("span",{class:"token operator"},"="),s(" #"),n("span",{class:"token punctuation"},"{"),s("categoryId"),n("span",{class:"token punctuation"},"}"),s(`
            `),n("span",{class:"token operator"},"<"),n("span",{class:"token operator"},"/"),n("span",{class:"token keyword"},"if"),n("span",{class:"token operator"},">"),s(`
            `),n("span",{class:"token operator"},"<"),n("span",{class:"token keyword"},"if"),s(" test"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"status != null"'),n("span",{class:"token operator"},">"),s(`
                and d`),n("span",{class:"token punctuation"},"."),s("status "),n("span",{class:"token operator"},"="),s(" #"),n("span",{class:"token punctuation"},"{"),s("status"),n("span",{class:"token punctuation"},"}"),s(`
            `),n("span",{class:"token operator"},"<"),n("span",{class:"token operator"},"/"),n("span",{class:"token keyword"},"if"),n("span",{class:"token operator"},">"),s(`
        `),n("span",{class:"token operator"},"<"),n("span",{class:"token operator"},"/"),s("where"),n("span",{class:"token operator"},">"),s(`
        order by d`),n("span",{class:"token punctuation"},"."),s(`create_time desc
`),n("span",{class:"token operator"},"<"),n("span",{class:"token operator"},"/"),s("select"),n("span",{class:"token operator"},">"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),en=n("h2",{id:"_4-删除菜品-🚩",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_4-删除菜品-🚩","aria-hidden":"true"},"#"),s(" 4. 删除菜品 🚩")],-1),tn=n("p",null,"根据删除菜品的接口定义在DishController中创建方法：",-1),on=n("div",{class:"language-java line-numbers-mode","data-ext":"java"},[n("pre",{class:"language-java"},[n("code",null,[s("  "),n("span",{class:"token doc-comment comment"},[s(`/**
     * 菜品批量删除
     *
     * `),n("span",{class:"token keyword"},"@param"),s(),n("span",{class:"token parameter"},"ids"),s(`
     * `),n("span",{class:"token keyword"},"@return"),s(`
     */`)]),s(`
    `),n("span",{class:"token annotation punctuation"},"@DeleteMapping"),s(`
    `),n("span",{class:"token annotation punctuation"},"@ApiOperation"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"菜品批量删除"'),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token class-name"},"Result"),s(),n("span",{class:"token function"},"delete"),n("span",{class:"token punctuation"},"("),n("span",{class:"token annotation punctuation"},"@RequestParam"),s(),n("span",{class:"token class-name"},"List"),n("span",{class:"token generics"},[n("span",{class:"token punctuation"},"<"),n("span",{class:"token class-name"},"Long"),n("span",{class:"token punctuation"},">")]),s(" ids"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        log`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"info"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"菜品批量删除：{}"'),n("span",{class:"token punctuation"},","),s(" ids"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        dishService`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"deleteBatch"),n("span",{class:"token punctuation"},"("),s("ids"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),n("span",{class:"token comment"},"//后绪步骤实现"),s(`
        `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token class-name"},"Result"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"success"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),cn=n("p",null,"在DishService接口中声明deleteBatch方法：",-1),ln=n("div",{class:"language-java line-numbers-mode","data-ext":"java"},[n("pre",{class:"language-java"},[n("code",null,[s("  "),n("span",{class:"token doc-comment comment"},[s(`/**
     * 菜品批量删除
     *
     * `),n("span",{class:"token keyword"},"@param"),s(),n("span",{class:"token parameter"},"ids"),s(`
     */`)]),s(`
    `),n("span",{class:"token keyword"},"void"),s(),n("span",{class:"token function"},"deleteBatch"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"List"),n("span",{class:"token generics"},[n("span",{class:"token punctuation"},"<"),n("span",{class:"token class-name"},"Long"),n("span",{class:"token punctuation"},">")]),s(" ids"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),pn=n("p",null,"在DishServiceImpl中实现deleteBatch方法：",-1),un=n("div",{class:"language-java line-numbers-mode","data-ext":"java"},[n("pre",{class:"language-java"},[n("code",null,[s(`
    `),n("span",{class:"token annotation punctuation"},"@Autowired"),s(`
    `),n("span",{class:"token keyword"},"private"),s(),n("span",{class:"token class-name"},"SetmealDishMapper"),s(" setmealDishMapper"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token doc-comment comment"},[s(`/**
     * 菜品批量删除
     *
     * `),n("span",{class:"token keyword"},"@param"),s(),n("span",{class:"token parameter"},"ids"),s(`
     */`)]),s(`
    `),n("span",{class:"token annotation punctuation"},"@Transactional"),n("span",{class:"token comment"},"//事务"),s(`
    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"void"),s(),n("span",{class:"token function"},"deleteBatch"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"List"),n("span",{class:"token generics"},[n("span",{class:"token punctuation"},"<"),n("span",{class:"token class-name"},"Long"),n("span",{class:"token punctuation"},">")]),s(" ids"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token comment"},"//判断当前菜品是否能够删除---是否存在起售中的菜品？？"),s(`
        `),n("span",{class:"token keyword"},"for"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"Long"),s(" id "),n("span",{class:"token operator"},":"),s(" ids"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token class-name"},"Dish"),s(" dish "),n("span",{class:"token operator"},"="),s(" dishMapper"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getById"),n("span",{class:"token punctuation"},"("),s("id"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),n("span",{class:"token comment"},"//后绪步骤实现"),s(`
            `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("dish"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getStatus"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=="),s(),n("span",{class:"token class-name"},"StatusConstant"),n("span",{class:"token punctuation"},"."),n("span",{class:"token constant"},"ENABLE"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
                `),n("span",{class:"token comment"},"//当前菜品处于起售中，不能删除"),s(`
                `),n("span",{class:"token keyword"},"throw"),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"DeletionNotAllowedException"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"MessageConstant"),n("span",{class:"token punctuation"},"."),n("span",{class:"token constant"},"DISH_ON_SALE"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
            `),n("span",{class:"token punctuation"},"}"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(`

        `),n("span",{class:"token comment"},"//判断当前菜品是否能够删除---是否被套餐关联了？？"),s(`
        `),n("span",{class:"token class-name"},"List"),n("span",{class:"token generics"},[n("span",{class:"token punctuation"},"<"),n("span",{class:"token class-name"},"Long"),n("span",{class:"token punctuation"},">")]),s(" setmealIds "),n("span",{class:"token operator"},"="),s(" setmealDishMapper"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getSetmealIdsByDishIds"),n("span",{class:"token punctuation"},"("),s("ids"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("setmealIds "),n("span",{class:"token operator"},"!="),s(),n("span",{class:"token keyword"},"null"),s(),n("span",{class:"token operator"},"&&"),s(" setmealIds"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"size"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},">"),s(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token comment"},"//当前菜品被套餐关联了，不能删除"),s(`
            `),n("span",{class:"token keyword"},"throw"),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"DeletionNotAllowedException"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"MessageConstant"),n("span",{class:"token punctuation"},"."),n("span",{class:"token constant"},"DISH_BE_RELATED_BY_SETMEAL"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(`

        `),n("span",{class:"token comment"},"//删除菜品表中的菜品数据"),s(`
        `),n("span",{class:"token keyword"},"for"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"Long"),s(" id "),n("span",{class:"token operator"},":"),s(" ids"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
            dishMapper`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"deleteById"),n("span",{class:"token punctuation"},"("),s("id"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),n("span",{class:"token comment"},"//后绪步骤实现"),s(`
            `),n("span",{class:"token comment"},"//删除菜品关联的口味数据"),s(`
            dishFlavorMapper`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"deleteByDishId"),n("span",{class:"token punctuation"},"("),s("id"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),n("span",{class:"token comment"},"//后绪步骤实现"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),rn=n("p",null,"在DishMapper中声明getById方法，并配置SQL：",-1),kn=n("div",{class:"language-java line-numbers-mode","data-ext":"java"},[n("pre",{class:"language-java"},[n("code",null,[s("  "),n("span",{class:"token doc-comment comment"},[s(`/**
     * 根据主键查询菜品
     *
     * `),n("span",{class:"token keyword"},"@param"),s(),n("span",{class:"token parameter"},"id"),s(`
     * `),n("span",{class:"token keyword"},"@return"),s(`
     */`)]),s(`
    `),n("span",{class:"token annotation punctuation"},"@Select"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"select * from dish where id = #{id}"'),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token class-name"},"Dish"),s(),n("span",{class:"token function"},"getById"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"Long"),s(" id"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),dn=n("p",null,"创建SetmealDishMapper，声明getSetmealIdsByDishIds方法，并在xml文件中编写SQL：",-1),mn=n("div",{class:"language-java line-numbers-mode","data-ext":"java"},[n("pre",{class:"language-java"},[n("code",null,[n("span",{class:"token keyword"},"package"),s(),n("span",{class:"token namespace"},[s("com"),n("span",{class:"token punctuation"},"."),s("sky"),n("span",{class:"token punctuation"},"."),s("mapper")]),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token annotation punctuation"},"@Mapper"),s(`
`),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"interface"),s(),n("span",{class:"token class-name"},"SetmealDishMapper"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token doc-comment comment"},[s(`/**
     * 根据菜品id查询对应的套餐id
     *
     * `),n("span",{class:"token keyword"},"@param"),s(),n("span",{class:"token parameter"},"dishIds"),s(`
     * `),n("span",{class:"token keyword"},"@return"),s(`
     */`)]),s(`
    `),n("span",{class:"token comment"},"//select setmeal_id from setmeal_dish where dish_id in (1,2,3,4)"),s(`
    `),n("span",{class:"token class-name"},"List"),n("span",{class:"token generics"},[n("span",{class:"token punctuation"},"<"),n("span",{class:"token class-name"},"Long"),n("span",{class:"token punctuation"},">")]),s(),n("span",{class:"token function"},"getSetmealIdsByDishIds"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"List"),n("span",{class:"token generics"},[n("span",{class:"token punctuation"},"<"),n("span",{class:"token class-name"},"Long"),n("span",{class:"token punctuation"},">")]),s(" dishIds"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),vn=n("p",null,"SetmealDishMapper.xml",-1),bn=n("div",{class:"language-java line-numbers-mode","data-ext":"java"},[n("pre",{class:"language-java"},[n("code",null,[n("span",{class:"token operator"},"<"),n("span",{class:"token operator"},"?"),s("xml version"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"1.0"'),s(" encoding"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"UTF-8"'),s(),n("span",{class:"token operator"},"?"),n("span",{class:"token operator"},">"),s(`
`),n("span",{class:"token operator"},"<"),n("span",{class:"token operator"},"!"),n("span",{class:"token constant"},"DOCTYPE"),s(" mapper "),n("span",{class:"token constant"},"PUBLIC"),s(),n("span",{class:"token string"},'"-//mybatis.org//DTD Mapper 3.0//EN"'),s(`
        `),n("span",{class:"token string"},'"http://mybatis.org/dtd/mybatis-3-mapper.dtd"'),s(),n("span",{class:"token operator"},">"),s(`
`),n("span",{class:"token operator"},"<"),s("mapper namespace"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"com.sky.mapper.SetmealDishMapper"'),n("span",{class:"token operator"},">"),s(`

`),n("span",{class:"token operator"},"<"),s("select id"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"getSetmealIdsByDishIds"'),s(" resultType"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"java.lang.Long"'),n("span",{class:"token operator"},">"),s(`

    select setmeal_id from setmal_dish where dish_id in

    `),n("span",{class:"token operator"},"<"),s("foreach collection"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"dishIds"'),s(" item"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"dishId"'),s(" separator"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'","'),s(),n("span",{class:"token keyword"},"open"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"("'),s(" close"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'")"'),n("span",{class:"token operator"},">"),s(`
    
        #`),n("span",{class:"token punctuation"},"{"),s("dishId"),n("span",{class:"token punctuation"},"}"),s(`

    `),n("span",{class:"token operator"},"<"),n("span",{class:"token operator"},"/"),s("foreach"),n("span",{class:"token operator"},">"),s(`
`),n("span",{class:"token operator"},"<"),n("span",{class:"token operator"},"/"),s("select"),n("span",{class:"token operator"},">"),s(`
`),n("span",{class:"token operator"},"<"),n("span",{class:"token operator"},"/"),s("mapper"),n("span",{class:"token operator"},">"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),gn=n("p",null,"在DishMapper.java中声明deleteById方法并配置SQL：",-1),hn=n("div",{class:"language-java line-numbers-mode","data-ext":"java"},[n("pre",{class:"language-java"},[n("code",null,[s("  "),n("span",{class:"token doc-comment comment"},[s(`/**
     * 根据主键删除菜品数据
     *
     * `),n("span",{class:"token keyword"},"@param"),s(),n("span",{class:"token parameter"},"id"),s(`
     */`)]),s(`
    `),n("span",{class:"token annotation punctuation"},"@Delete"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"delete from dish where id = #{id}"'),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token keyword"},"void"),s(),n("span",{class:"token function"},"deleteById"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"Long"),s(" id"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),yn=n("p",null,"在DishFlavorMapper中声明deleteByDishId方法并配置SQL：",-1),_n=n("div",{class:"language-java line-numbers-mode","data-ext":"java"},[n("pre",{class:"language-java"},[n("code",null,[s("    "),n("span",{class:"token doc-comment comment"},[s(`/**
     * 根据菜品id删除对应的口味数据
     * `),n("span",{class:"token keyword"},"@param"),s(),n("span",{class:"token parameter"},"dishId"),s(`
     */`)]),s(`
    `),n("span",{class:"token annotation punctuation"},"@Delete"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"delete from dish_flavor where dish_id = #{dishId}"'),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token keyword"},"void"),s(),n("span",{class:"token function"},"deleteByDishId"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"Long"),s(" dishId"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),wn=n("h2",{id:"_5-修改菜品-🚩",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_5-修改菜品-🚩","aria-hidden":"true"},"#"),s(" 5. 修改菜品 🚩")],-1),fn=n("h3",{id:"_5-1-根据id查询菜品实现",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_5-1-根据id查询菜品实现","aria-hidden":"true"},"#"),s(" 5.1 根据id查询菜品实现")],-1),Dn=n("p",null,"根据id查询菜品的接口定义在DishController中创建方法：",-1),Tn=n("div",{class:"language-java line-numbers-mode","data-ext":"java"},[n("pre",{class:"language-java"},[n("code",null,[s("    "),n("span",{class:"token doc-comment comment"},[s(`/**
     * 根据id查询菜品
     *
     * `),n("span",{class:"token keyword"},"@param"),s(),n("span",{class:"token parameter"},"id"),s(`
     * `),n("span",{class:"token keyword"},"@return"),s(`
     */`)]),s(`
    `),n("span",{class:"token annotation punctuation"},"@GetMapping"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"/{id}"'),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token annotation punctuation"},"@ApiOperation"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"根据id查询菜品"'),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token class-name"},"Result"),n("span",{class:"token generics"},[n("span",{class:"token punctuation"},"<"),n("span",{class:"token class-name"},"DishVO"),n("span",{class:"token punctuation"},">")]),s(),n("span",{class:"token function"},"getById"),n("span",{class:"token punctuation"},"("),n("span",{class:"token annotation punctuation"},"@PathVariable"),s(),n("span",{class:"token class-name"},"Long"),s(" id"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        log`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"info"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"根据id查询菜品：{}"'),n("span",{class:"token punctuation"},","),s(" id"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token class-name"},"DishVO"),s(" dishVO "),n("span",{class:"token operator"},"="),s(" dishService"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getByIdWithFlavor"),n("span",{class:"token punctuation"},"("),s("id"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),n("span",{class:"token comment"},"//后绪步骤实现"),s(`
        `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token class-name"},"Result"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"success"),n("span",{class:"token punctuation"},"("),s("dishVO"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),jn=n("p",null,"在DishService接口中声明getByIdWithFlavor方法：",-1),An=n("div",{class:"language-java line-numbers-mode","data-ext":"java"},[n("pre",{class:"language-java"},[n("code",null,[s("  "),n("span",{class:"token doc-comment comment"},[s(`/**
     * 根据id查询菜品和对应的口味数据
     *
     * `),n("span",{class:"token keyword"},"@param"),s(),n("span",{class:"token parameter"},"id"),s(`
     * `),n("span",{class:"token keyword"},"@return"),s(`
     */`)]),s(`
    `),n("span",{class:"token class-name"},"DishVO"),s(),n("span",{class:"token function"},"getByIdWithFlavor"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"Long"),s(" id"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),Sn=n("p",null,"在DishServiceImpl中实现getByIdWithFlavor方法：",-1),On=n("div",{class:"language-java line-numbers-mode","data-ext":"java"},[n("pre",{class:"language-java"},[n("code",null,[s("  "),n("span",{class:"token doc-comment comment"},[s(`/**
     * 根据id查询菜品和对应的口味数据
     *
     * `),n("span",{class:"token keyword"},"@param"),s(),n("span",{class:"token parameter"},"id"),s(`
     * `),n("span",{class:"token keyword"},"@return"),s(`
     */`)]),s(`
    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token class-name"},"DishVO"),s(),n("span",{class:"token function"},"getByIdWithFlavor"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"Long"),s(" id"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token comment"},"//根据id查询菜品数据"),s(`
        `),n("span",{class:"token class-name"},"Dish"),s(" dish "),n("span",{class:"token operator"},"="),s(" dishMapper"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getById"),n("span",{class:"token punctuation"},"("),s("id"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token comment"},"//根据菜品id查询口味数据"),s(`
        `),n("span",{class:"token class-name"},"List"),n("span",{class:"token generics"},[n("span",{class:"token punctuation"},"<"),n("span",{class:"token class-name"},"DishFlavor"),n("span",{class:"token punctuation"},">")]),s(" dishFlavors "),n("span",{class:"token operator"},"="),s(" dishFlavorMapper"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getByDishId"),n("span",{class:"token punctuation"},"("),s("id"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),n("span",{class:"token comment"},"//后绪步骤实现"),s(`

        `),n("span",{class:"token comment"},"//将查询到的数据封装到VO"),s(`
        `),n("span",{class:"token class-name"},"DishVO"),s(" dishVO "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"DishVO"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token class-name"},"BeanUtils"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"copyProperties"),n("span",{class:"token punctuation"},"("),s("dish"),n("span",{class:"token punctuation"},","),s(" dishVO"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        dishVO`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"setFlavors"),n("span",{class:"token punctuation"},"("),s("dishFlavors"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token keyword"},"return"),s(" dishVO"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),In=n("p",null,"在DishFlavorMapper中声明getByDishId方法，并配置SQL：",-1),Mn=n("div",{class:"language-java line-numbers-mode","data-ext":"java"},[n("pre",{class:"language-java"},[n("code",null,[s("    "),n("span",{class:"token doc-comment comment"},[s(`/**
     * 根据菜品id查询对应的口味数据
     * `),n("span",{class:"token keyword"},"@param"),s(),n("span",{class:"token parameter"},"dishId"),s(`
     * `),n("span",{class:"token keyword"},"@return"),s(`
     */`)]),s(`
    `),n("span",{class:"token annotation punctuation"},"@Select"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"select * from dish_flavor where dish_id = #{dishId}"'),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token class-name"},"List"),n("span",{class:"token generics"},[n("span",{class:"token punctuation"},"<"),n("span",{class:"token class-name"},"DishFlavor"),n("span",{class:"token punctuation"},">")]),s(),n("span",{class:"token function"},"getByDishId"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"Long"),s(" dishId"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),Fn=n("h3",{id:"_5-2-修改菜品实现",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_5-2-修改菜品实现","aria-hidden":"true"},"#"),s(" 5.2 修改菜品实现")],-1),xn=n("p",null,"根据修改菜品的接口定义在DishController中创建方法：",-1),Ln=n("div",{class:"language-java line-numbers-mode","data-ext":"java"},[n("pre",{class:"language-java"},[n("code",null,[s("  "),n("span",{class:"token doc-comment comment"},[s(`/**
     * 修改菜品
     *
     * `),n("span",{class:"token keyword"},"@param"),s(),n("span",{class:"token parameter"},"dishDTO"),s(`
     * `),n("span",{class:"token keyword"},"@return"),s(`
     */`)]),s(`
    `),n("span",{class:"token annotation punctuation"},"@PutMapping"),s(`
    `),n("span",{class:"token annotation punctuation"},"@ApiOperation"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"修改菜品"'),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token class-name"},"Result"),s(),n("span",{class:"token function"},"update"),n("span",{class:"token punctuation"},"("),n("span",{class:"token annotation punctuation"},"@RequestBody"),s(),n("span",{class:"token class-name"},"DishDTO"),s(" dishDTO"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        log`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"info"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"修改菜品：{}"'),n("span",{class:"token punctuation"},","),s(" dishDTO"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        dishService`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"updateWithFlavor"),n("span",{class:"token punctuation"},"("),s("dishDTO"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token class-name"},"Result"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"success"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),Pn=n("p",null,"在DishService接口中声明updateWithFlavor方法：",-1),En=n("div",{class:"language-java line-numbers-mode","data-ext":"java"},[n("pre",{class:"language-java"},[n("code",null,[s("  "),n("span",{class:"token doc-comment comment"},[s(`/**
     * 根据id修改菜品基本信息和对应的口味信息
     *
     * `),n("span",{class:"token keyword"},"@param"),s(),n("span",{class:"token parameter"},"dishDTO"),s(`
     */`)]),s(`
    `),n("span",{class:"token keyword"},"void"),s(),n("span",{class:"token function"},"updateWithFlavor"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"DishDTO"),s(" dishDTO"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),Cn=n("p",null,"在DishServiceImpl中实现updateWithFlavor方法：",-1),Bn=n("div",{class:"language-java line-numbers-mode","data-ext":"java"},[n("pre",{class:"language-java"},[n("code",null,[s("  "),n("span",{class:"token doc-comment comment"},[s(`/**
     * 根据id修改菜品基本信息和对应的口味信息
     *
     * `),n("span",{class:"token keyword"},"@param"),s(),n("span",{class:"token parameter"},"dishDTO"),s(`
     */`)]),s(`
    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"void"),s(),n("span",{class:"token function"},"updateWithFlavor"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"DishDTO"),s(" dishDTO"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token class-name"},"Dish"),s(" dish "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"Dish"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token class-name"},"BeanUtils"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"copyProperties"),n("span",{class:"token punctuation"},"("),s("dishDTO"),n("span",{class:"token punctuation"},","),s(" dish"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token comment"},"//修改菜品表基本信息"),s(`
        dishMapper`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"update"),n("span",{class:"token punctuation"},"("),s("dish"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token comment"},"//删除原有的口味数据"),s(`
        dishFlavorMapper`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"deleteByDishId"),n("span",{class:"token punctuation"},"("),s("dishDTO"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getId"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token comment"},"//重新插入口味数据"),s(`
        `),n("span",{class:"token class-name"},"List"),n("span",{class:"token generics"},[n("span",{class:"token punctuation"},"<"),n("span",{class:"token class-name"},"DishFlavor"),n("span",{class:"token punctuation"},">")]),s(" flavors "),n("span",{class:"token operator"},"="),s(" dishDTO"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getFlavors"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("flavors "),n("span",{class:"token operator"},"!="),s(),n("span",{class:"token keyword"},"null"),s(),n("span",{class:"token operator"},"&&"),s(" flavors"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"size"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},">"),s(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`

            flavors`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"forEach"),n("span",{class:"token punctuation"},"("),s("dishFlavor "),n("span",{class:"token operator"},"->"),s(),n("span",{class:"token punctuation"},"{"),s(`
                dishFlavor`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"setDishId"),n("span",{class:"token punctuation"},"("),s("dishDTO"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getId"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
            `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

            `),n("span",{class:"token comment"},"//向口味表插入n条数据"),s(`
            dishFlavorMapper`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"insertBatch"),n("span",{class:"token punctuation"},"("),s("flavors"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),Un=n("p",null,"在DishMapper中，声明update方法：",-1),Rn=n("div",{class:"language-java line-numbers-mode","data-ext":"java"},[n("pre",{class:"language-java"},[n("code",null,[n("span",{class:"token doc-comment comment"},[s(`/**
    * 根据id动态修改菜品数据
    *
    * `),n("span",{class:"token keyword"},"@param"),s(),n("span",{class:"token parameter"},"dish"),s(`
    */`)]),s(`
`),n("span",{class:"token annotation punctuation"},"@AutoFill"),n("span",{class:"token punctuation"},"("),s("value "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token class-name"},"OperationType"),n("span",{class:"token punctuation"},"."),n("span",{class:"token constant"},"UPDATE"),n("span",{class:"token punctuation"},")"),s(`
`),n("span",{class:"token keyword"},"void"),s(),n("span",{class:"token function"},"update"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"Dish"),s(" dish"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),Qn=n("p",null,"并在DishMapper.xml文件中编写SQL:",-1),Vn=n("div",{class:"language-java line-numbers-mode","data-ext":"java"},[n("pre",{class:"language-java"},[n("code",null,[n("span",{class:"token operator"},"<"),s("update id"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"update"'),n("span",{class:"token operator"},">"),s(`
update dish
`),n("span",{class:"token generics"},[n("span",{class:"token punctuation"},"<"),s("set"),n("span",{class:"token punctuation"},">")]),s(`
    `),n("span",{class:"token operator"},"<"),n("span",{class:"token keyword"},"if"),s(" test"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"name != null"'),n("span",{class:"token operator"},">"),s("name "),n("span",{class:"token operator"},"="),s(" #"),n("span",{class:"token punctuation"},"{"),s("name"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),n("span",{class:"token operator"},"<"),n("span",{class:"token operator"},"/"),n("span",{class:"token keyword"},"if"),n("span",{class:"token operator"},">"),s(`
    `),n("span",{class:"token operator"},"<"),n("span",{class:"token keyword"},"if"),s(" test"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"categoryId != null"'),n("span",{class:"token operator"},">"),s("category_id "),n("span",{class:"token operator"},"="),s(" #"),n("span",{class:"token punctuation"},"{"),s("categoryId"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),n("span",{class:"token operator"},"<"),n("span",{class:"token operator"},"/"),n("span",{class:"token keyword"},"if"),n("span",{class:"token operator"},">"),s(`
    `),n("span",{class:"token operator"},"<"),n("span",{class:"token keyword"},"if"),s(" test"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"price != null"'),n("span",{class:"token operator"},">"),s("price "),n("span",{class:"token operator"},"="),s(" #"),n("span",{class:"token punctuation"},"{"),s("price"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),n("span",{class:"token operator"},"<"),n("span",{class:"token operator"},"/"),n("span",{class:"token keyword"},"if"),n("span",{class:"token operator"},">"),s(`
    `),n("span",{class:"token operator"},"<"),n("span",{class:"token keyword"},"if"),s(" test"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"image != null"'),n("span",{class:"token operator"},">"),s("image "),n("span",{class:"token operator"},"="),s(" #"),n("span",{class:"token punctuation"},"{"),s("image"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),n("span",{class:"token operator"},"<"),n("span",{class:"token operator"},"/"),n("span",{class:"token keyword"},"if"),n("span",{class:"token operator"},">"),s(`
    `),n("span",{class:"token operator"},"<"),n("span",{class:"token keyword"},"if"),s(" test"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"description != null"'),n("span",{class:"token operator"},">"),s("description "),n("span",{class:"token operator"},"="),s(" #"),n("span",{class:"token punctuation"},"{"),s("description"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),n("span",{class:"token operator"},"<"),n("span",{class:"token operator"},"/"),n("span",{class:"token keyword"},"if"),n("span",{class:"token operator"},">"),s(`
    `),n("span",{class:"token operator"},"<"),n("span",{class:"token keyword"},"if"),s(" test"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"status != null"'),n("span",{class:"token operator"},">"),s("status "),n("span",{class:"token operator"},"="),s(" #"),n("span",{class:"token punctuation"},"{"),s("status"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),n("span",{class:"token operator"},"<"),n("span",{class:"token operator"},"/"),n("span",{class:"token keyword"},"if"),n("span",{class:"token operator"},">"),s(`
    `),n("span",{class:"token operator"},"<"),n("span",{class:"token keyword"},"if"),s(" test"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"updateTime != null"'),n("span",{class:"token operator"},">"),s("update_time "),n("span",{class:"token operator"},"="),s(" #"),n("span",{class:"token punctuation"},"{"),s("updateTime"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),n("span",{class:"token operator"},"<"),n("span",{class:"token operator"},"/"),n("span",{class:"token keyword"},"if"),n("span",{class:"token operator"},">"),s(`
    `),n("span",{class:"token operator"},"<"),n("span",{class:"token keyword"},"if"),s(" test"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"updateUser != null"'),n("span",{class:"token operator"},">"),s("update_user "),n("span",{class:"token operator"},"="),s(" #"),n("span",{class:"token punctuation"},"{"),s("updateUser"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),n("span",{class:"token operator"},"<"),n("span",{class:"token operator"},"/"),n("span",{class:"token keyword"},"if"),n("span",{class:"token operator"},">"),s(`
`),n("span",{class:"token operator"},"<"),n("span",{class:"token operator"},"/"),s("set"),n("span",{class:"token operator"},">"),s(`
where id `),n("span",{class:"token operator"},"="),s(" #"),n("span",{class:"token punctuation"},"{"),s("id"),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token operator"},"<"),n("span",{class:"token operator"},"/"),s("update"),n("span",{class:"token operator"},">"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1);function Nn(Wn,zn){const o=i("Tabs");return p(),u("div",null,[k,d,c(o,{id:"6",data:[{id:"步骤一"},{id:"步骤二"},{id:"步骤三"}]},{title0:a(({value:e,isActive:t})=>[s("步骤一")]),title1:a(({value:e,isActive:t})=>[s("步骤二")]),title2:a(({value:e,isActive:t})=>[s("步骤三")]),tab0:a(({value:e,isActive:t})=>[m,v,b,g]),tab1:a(({value:e,isActive:t})=>[h,y,_]),tab2:a(({value:e,isActive:t})=>[w,f,D,T,j]),_:1}),A,c(o,{id:"54",data:[{id:"设计DTO类"},{id:"Controller层"},{id:"Service层接口"},{id:"Service层实现类"},{id:"Mapper层"}]},{title0:a(({value:e,isActive:t})=>[s("设计DTO类")]),title1:a(({value:e,isActive:t})=>[s("Controller层")]),title2:a(({value:e,isActive:t})=>[s("Service层接口")]),title3:a(({value:e,isActive:t})=>[s("Service层实现类")]),title4:a(({value:e,isActive:t})=>[s("Mapper层")]),tab0:a(({value:e,isActive:t})=>[S,O]),tab1:a(({value:e,isActive:t})=>[I,M]),tab2:a(({value:e,isActive:t})=>[F]),tab3:a(({value:e,isActive:t})=>[x]),tab4:a(({value:e,isActive:t})=>[L,P,E,C,B,U,R,Q]),_:1}),V,c(o,{id:"95",data:[{id:"设计DTO类"},{id:"设计VO类"},{id:"Controller层"},{id:"Service层接口"},{id:"Service层实现类"},{id:"Mapper层"}]},{title0:a(({value:e,isActive:t})=>[s("设计DTO类")]),title1:a(({value:e,isActive:t})=>[s("设计VO类")]),title2:a(({value:e,isActive:t})=>[s("Controller层")]),title3:a(({value:e,isActive:t})=>[s("Service层接口")]),title4:a(({value:e,isActive:t})=>[s("Service层实现类")]),title5:a(({value:e,isActive:t})=>[s("Mapper层")]),tab0:a(({value:e,isActive:t})=>[N,W]),tab1:a(({value:e,isActive:t})=>[z,q,H]),tab2:a(({value:e,isActive:t})=>[Y,G]),tab3:a(({value:e,isActive:t})=>[J,K]),tab4:a(({value:e,isActive:t})=>[X,Z]),tab5:a(({value:e,isActive:t})=>[$,nn,sn,an]),_:1}),en,c(o,{id:"143",data:[{id:"Controller层"},{id:"Service层"},{id:"Service层实现类"},{id:"Mapper层"}]},{title0:a(({value:e,isActive:t})=>[s("Controller层")]),title1:a(({value:e,isActive:t})=>[s("Service层")]),title2:a(({value:e,isActive:t})=>[s("Service层实现类")]),title3:a(({value:e,isActive:t})=>[s("Mapper层")]),tab0:a(({value:e,isActive:t})=>[tn,on]),tab1:a(({value:e,isActive:t})=>[cn,ln]),tab2:a(({value:e,isActive:t})=>[pn,un]),tab3:a(({value:e,isActive:t})=>[rn,kn,dn,mn,vn,bn,gn,hn,yn,_n]),_:1}),wn,fn,c(o,{id:"191",data:[{id:"Controller层"},{id:"Service层接口"},{id:"Service层实现类"},{id:"Mapper层"}]},{title0:a(({value:e,isActive:t})=>[s("Controller层")]),title1:a(({value:e,isActive:t})=>[s("Service层接口")]),title2:a(({value:e,isActive:t})=>[s("Service层实现类")]),title3:a(({value:e,isActive:t})=>[s("Mapper层")]),tab0:a(({value:e,isActive:t})=>[Dn,Tn]),tab1:a(({value:e,isActive:t})=>[jn,An]),tab2:a(({value:e,isActive:t})=>[Sn,On]),tab3:a(({value:e,isActive:t})=>[In,Mn]),_:1}),Fn,c(o,{id:"220",data:[{id:"Controller层"},{id:"Service层"},{id:"Service层实现类"},{id:"Mapper层"}]},{title0:a(({value:e,isActive:t})=>[s("Controller层")]),title1:a(({value:e,isActive:t})=>[s("Service层")]),title2:a(({value:e,isActive:t})=>[s("Service层实现类")]),title3:a(({value:e,isActive:t})=>[s("Mapper层")]),tab0:a(({value:e,isActive:t})=>[xn,Ln]),tab1:a(({value:e,isActive:t})=>[Pn,En]),tab2:a(({value:e,isActive:t})=>[Cn,Bn]),tab3:a(({value:e,isActive:t})=>[Un,Rn,Qn,Vn]),_:1})])}const Yn=l(r,[["render",Nn],["__file","skytakeout03.html.vue"]]);export{Yn as default};
